<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.127.0"><meta name=generator content="Relearn 5.20.0+tip"><meta name=description content><title>OCFS2 storage :: XAPI Toolstack Developer Documentation</title>
<link href=/new-docs/images/favicon.png?1737562317 rel=icon type=image/png><link href=/new-docs/css/fontawesome-all.min.css?1737562317 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/new-docs/css/fontawesome-all.min.css?1737562317 rel=stylesheet></noscript><link href=/new-docs/css/nucleus.css?1737562317 rel=stylesheet><link href=/new-docs/css/auto-complete.css?1737562317 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/new-docs/css/auto-complete.css?1737562317 rel=stylesheet></noscript><link href=/new-docs/css/perfect-scrollbar.min.css?1737562317 rel=stylesheet><link href=/new-docs/css/fonts.css?1737562317 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/new-docs/css/fonts.css?1737562317 rel=stylesheet></noscript><link href=/new-docs/css/theme.css?1737562317 rel=stylesheet><link href=/new-docs/css/theme-auto.css?1737562317 rel=stylesheet id=variant-style><link href=/new-docs/css/variant.css?1737562317 rel=stylesheet><link href=/new-docs/css/print.css?1737562317 rel=stylesheet media=print><link href=/new-docs/css/ie.css?1737562317 rel=stylesheet><script src=/new-docs/js/url.js?1737562317></script><script src=/new-docs/js/variant.js?1737562317></script><script>window.index_js_url="/new-docs/index.search.js";var baseUriFull,root_url="/",baseUri=root_url.replace(/\/$/,"");window.T_Copy_to_clipboard="Copy to clipboard",window.T_Copied_to_clipboard="Copied to clipboard!",window.T_Copy_link_to_clipboard="Copy link to clipboard",window.T_Link_copied_to_clipboard="Copied link to clipboard!",window.T_No_results_found='No results found for "{0}"',window.T_N_results_found='{1} results found for "{0}"',baseUriFull="https://xapi-project.github.io/new-docs/",window.variants&&variants.init(["auto","zen-light","zen-dark","red","blue","green","learn","neon","relearn-light","relearn-bright","relearn-dark"])</script><link rel=stylesheet href=https://xapi-project.github.io/new-docs/css/misc.css></head><body class="mobile-support html" data-url=/new-docs/design/ocfs2/index.html><div id=body class=default-animation><div id=sidebar-overlay></div><div id=toc-overlay></div><nav id=topbar class=highlightable><div><div class=navigation><a class="nav nav-next topbar-link" href=/new-docs/design/patches-in-vdis/index.html title="patches in VDIs (&#129106;)"><i class="fas fa-chevron-right fa-fw"></i></a></div><div class=navigation><a class="nav nav-prev topbar-link" href=/new-docs/design/multiple-device-emulators/index.html title="Multiple device emulators (&#129104;)"><i class="fas fa-chevron-left fa-fw"></i></a></div><div id=breadcrumbs><span id=sidebar-toggle-span><a href=# id=sidebar-toggle class=topbar-link title='Menu (CTRL+ALT+n)'><i class="fas fa-bars fa-fw"></i></a>
</span><span id=toc-menu title='Table of Contents (CTRL+ALT+t)'><i class="fas fa-list-alt fa-fw"></i></span><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/new-docs/index.html><span itemprop=name>XAPI Toolstack Developer Guide</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/new-docs/design/index.html><span itemprop=name>Design Documents</span></a><meta itemprop=position content="2">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>OCFS2 storage</span><meta itemprop=position content="3"></li></ol></div><div class="default-animation progress"><div class=toc-wrapper><nav id=TableOfContents><ul><li><a href=#monitoring-io-paths>Monitoring I/O paths</a></li><li><a href=#heartbeat-qos>Heartbeat &ldquo;QoS&rdquo;</a></li></ul><ul><li><a href=#impact-even-if-not-using-ocfs2>Impact even if not using OCFS2</a></li><li><a href=#impact-when-using-ocfs2>Impact when using OCFS2</a></li></ul></nav></div></div></div></nav><main id=body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline><table class=revision-table><tr><th colspan=2>Design document</th></tr><tr style=background-color:#fff><td>Revision</td><td><span class="label label-default">v1</span></td></tr><tr style=background-color:#fff><td>Status</td><td><span class="label
label-danger">proposed</span></td></tr></table></header><h1 id=ocfs2-storage>OCFS2 storage</h1><p>OCFS2 is a (host-)clustered filesystem which runs on top of a shared raw block
device. Hosts using OCFS2 form a cluster using a combination of network and
storage heartbeats and host fencing to avoid split-brain.</p><p>The following diagram shows the proposed architecture with <code>xapi</code>:</p><p><a href=#image-a61c9571824d7fa47678111d50d5071a class=lightbox-link><img src=/new-docs/design/ocfs2/ocfs2.png alt="Proposed architecture" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=image-a61c9571824d7fa47678111d50d5071a><img src=/new-docs/design/ocfs2/ocfs2.png alt="Proposed architecture" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Please note the following:</p><ul><li>OCFS2 is configured to use global heartbeats rather than per-mount heartbeats
because we quite often have many SRs and therefore many mountpoints</li><li>The OCFS2 global heartbeat should be collocated on the same SR as the XenServer
HA SR so that we depend on fewer SRs (the storage is a single point of failure
for OCFS2)</li><li>The OCFS2 global heartbeat should itself be a raw VDI within an LVHDSR.</li><li>Every host can be in at-most-one OCFS2 cluster i.e. the host cluster membership
is a per-host thing rather than a per-SR thing. Therefore <code>xapi</code> will be
modified to configure the cluster and manage the cluster node numbers.</li><li>Every SR will be a filesystem mount, managed by a SM plugin called &ldquo;OCFS2&rdquo;.</li><li>Xapi HA uses the <code>xhad</code> process which runs in userspace but in the realtime
scheduling class so it has priority over all other userspace tasks. <code>xhad</code>
sends heartbeats via the <code>ha_statefile</code> VDI and via UDP, and uses the
Xen watchdog for host fencing.</li><li>OCFS2 HA uses the <code>o2cb</code> kernel driver which sends heartbeats via the
<code>o2cb_statefile</code> and via TCP, fencing the host by panicing domain 0.</li></ul><h1 id=managing-o2cb>Managing O2CB</h1><p>OCFS2 uses the O2CB &ldquo;cluster stack&rdquo; which is similar to our <code>xhad</code>. To configure
O2CB we need to</p><ul><li>assign each host an integer node number (from zero)</li><li>on pool/cluster join: update the configuration on every node to include the
new node. In OCFS2 this can be done online.</li><li>on pool/cluster leave/eject: update the configuration on every node to exclude
the old node. In OCFS2 this needs to be done offline.</li></ul><p>In the current Xapi toolstack there is a single global implicit cluster called a &ldquo;Pool&rdquo;
which is used for: resource locking; &ldquo;clustered&rdquo; storage repositories and fault handling (in HA). In the long term we will allow these types of clusters to be
managed separately or all together, depending on the sophistication of the
admin and the complexity of their environment. We will take a small step in that
direction by keeping the OCFS2 O2CB cluster management code at &ldquo;arms length&rdquo;
from the Xapi Pool.join code.</p><p>In
<a href=https://github.com/xapi-project/xcp-idl target=_blank>xcp-idl</a>
we will define a new API category called &ldquo;Cluster&rdquo; (in addition to the
categories for
<a href=https://github.com/xapi-project/xcp-idl/blob/37c676548a53b927ac411ab51f33892a7b891fda/xen/xenops_interface.ml#L102 target=_blank>Xen domains</a>
, <a href=https://github.com/xapi-project/xcp-idl/blob/37c676548a53b927ac411ab51f33892a7b891fda/memory/memory_interface.ml#L38 target=_blank>ballooning</a>
, <a href=https://github.com/xapi-project/xcp-idl/blob/37c676548a53b927ac411ab51f33892a7b891fda/rrd/rrd_interface.ml#L76 target=_blank>stats</a>
,
<a href=https://github.com/xapi-project/xcp-idl/blob/37c676548a53b927ac411ab51f33892a7b891fda/network/network_interface.ml#L106 target=_blank>networking</a>
and
<a href=https://github.com/xapi-project/xcp-idl/blob/37c676548a53b927ac411ab51f33892a7b891fda/storage/storage_interface.ml#L51 target=_blank>storage</a>
). These APIs will only be called by Xapi on localhost. In particular they will
not be called across-hosts and therefore do not have to be backward compatible.
These are &ldquo;cluster plugin APIs&rdquo;.</p><p>We will define the following APIs:</p><ul><li><code>Plugin:Membership.create</code>: add a host to a cluster. On exit the local host cluster software
will know about the new host but it may need to be restarted before the
change takes effect<ul><li>in:<code>hostname:string</code>: the hostname of the management domain</li><li>in:<code>uuid:string</code>: a UUID identifying the host</li><li>in:<code>id:int</code>: the lowest available unique integer identifying the host
where an integer will never be re-used unless it is guaranteed that
all nodes have forgotten any previous state associated with it</li><li>in:<code>address:string list</code>: a list of addresses through which the host
can be contacted</li><li>out: Task.id</li></ul></li><li><code>Plugin:Membership.destroy</code>: removes a named host from the cluster. On exit the local
host software will know about the change but it may need to be restarted
before it can take effect<ul><li>in:<code>uuid:string</code>: the UUID of the host to remove</li></ul></li><li><code>Plugin:Cluster.query</code>: queries the state of the cluster<ul><li>out:<code>maintenance_required:bool</code>: true if there is some outstanding configuration
change which cannot take effect until the cluster is restarted.</li><li>out:<code>hosts</code>: a list of all known hosts together with a state including:
whether they are known to be alive or dead; or whether they are currently
&ldquo;excluded&rdquo; because the cluster software needs to be restarted</li></ul></li><li><code>Plugin:Cluster.start</code>: turn on the cluster software and let the local host join</li><li><code>Plugin:Cluster.stop</code>: turn off the cluster software</li></ul><p>Xapi will be modified to:</p><ul><li>add table <code>Cluster</code> which will have columns<ul><li><code>name: string</code>: this is the name of the Cluster plugin (TODO: use same
terminology as SM?)</li><li><code>configuration: Map(String,String)</code>: this will contain any cluster-global
information, overrides for default values etc.</li><li><code>enabled: Bool</code>: this is true when the cluster &ldquo;should&rdquo; be running. It
may require maintenance to synchronise changes across the hosts.</li><li><code>maintenance_required: Bool</code>: this is true when the cluster needs to
be placed into maintenance mode to resync its configuration</li></ul></li><li>add method <code>XenAPI:Cluster.enable</code> which sets <code>enabled=true</code> and waits for all
hosts to report <code>Membership.enabled=true</code>.</li><li>add method <code>XenAPI:Cluster.disable</code> which sets <code>enabled=false</code> and waits for all
hosts to report <code>Membership.enabled=false</code>.</li><li>add table <code>Membership</code> which will have columns<ul><li><code>id: int</code>: automatically generated lowest available unique integer
starting from 0</li><li><code>cluster: Ref(Cluster)</code>: the type of cluster. This will never be NULL.</li><li><code>host: Ref(host)</code>: the host which is a member of the cluster. This may
be NULL.</li><li><code>left: Date</code>: if not 1/1/1970 this means the time at which the host
left the cluster.</li><li><code>maintenance_required: Bool</code>: this is true when the Host believes the
cluster needs to be placed into maintenance mode.</li></ul></li><li>add field <code>Host.memberships: Set(Ref(Membership))</code></li><li>extend enum <code>vdi_type</code> to include <code>o2cb_statefile</code> as well as <code>ha_statefile</code></li><li>add method <code>Pool.enable_o2cb</code> with arguments<ul><li>in: <code>heartbeat_sr: Ref(SR)</code>: the SR to use for global heartbeats</li><li>in: <code>configuration: Map(String,String)</code>: available for future configuration tweaks</li><li>Like <code>Pool.enable_ha</code> this will find or create the heartbeat VDI, create the
<code>Cluster</code> entry and the <code>Membership</code> entries. All <code>Memberships</code> will have
<code>maintenance_required=true</code> reflecting the fact that the desired cluster
state is out-of-sync with the actual cluster state.</li></ul></li><li>add method <code>XenAPI:Membership.enable</code><ul><li>in: <code>self:Host</code>: the host to modify</li><li>in: <code>cluster:Cluster</code>: the cluster.</li></ul></li><li>add method <code>XenAPI:Membership.disable</code><ul><li>in: <code>self:Host</code>: the host to modify</li><li>in: <code>cluster:Cluster</code>: the cluster name.</li></ul></li><li>add a cluster monitor thread which<ul><li>watches the <code>Host.memberships</code> field and calls <code>Plugin:Membership.create</code> and
<code>Plugin:Membership.destroy</code> to keep the local cluster software up-to-date
when any host in the pool changes its configuration</li><li>calls <code>Plugin:Cluster.query</code> after an <code>Plugin:Membership:create</code> or
<code>Plugin:Membership.destroy</code> to see whether the
SR needs maintenance</li><li>when all hosts have a last start time later than a <code>Membership</code>
record&rsquo;s <code>left</code> date, deletes the <code>Membership</code>.</li></ul></li><li>modify <code>XenAPI:Pool.join</code> to resync with the master&rsquo;s <code>Host.memberships</code> list.</li><li>modify <code>XenAPI:Pool.eject</code> to<ul><li>call <code>Membership.disable</code> in the cluster plugin to stop the <code>o2cb</code> service</li><li>call <code>Membership.destroy</code> in the cluster plugin to remove every other host
from the local configuration</li><li>remove the <code>Host</code> metadata from the pool</li><li>set <code>XenAPI:Membership.left</code> to <code>NOW()</code></li></ul></li><li>modify <code>XenAPI:Host.forget</code> to<ul><li>remove the <code>Host</code> metadata from the pool</li><li>set <code>XenAPI:Membership.left</code> to <code>NOW()</code></li><li>set <code>XenAPI:Cluster.maintenance_required</code> to true</li></ul></li></ul><p>A Cluster plugin called &ldquo;o2cb&rdquo; will be added which</p><ul><li>on <code>Plugin:Membership.destroy</code><ul><li>comment out the relevant node id in cluster.conf</li><li>set the &rsquo;needs a restart&rsquo; flag</li></ul></li><li>on <code>Plugin:Membership.create</code><ul><li>if the provided node id is too high: return an error. This means the
cluster needs to be rebooted to free node ids.</li><li>if the node id is not too high: rewrite the cluster.conf using
the &ldquo;online&rdquo; tool.</li></ul></li><li>on <code>Plugin:Cluster.start</code>: find the VDI with <code>type=o2cb_statefile</code>;
add this to the &ldquo;static-vdis&rdquo; list; <code>chkconfig</code> the service on. We
will use the global heartbeat mode of <code>o2cb</code>.</li><li>on <code>Plugin:Cluster.stop</code>: stop the service; <code>chkconfig</code> the service off;
remove the &ldquo;static-vdis&rdquo; entry; leave the VDI itself alone</li><li>keeps track of the current &rsquo;live&rsquo; cluster.conf which allows it to<ul><li>report the cluster service as &rsquo;needing a restart&rsquo; (which implies
we need maintenance mode)</li></ul></li></ul><p>Summary of differences between this and xHA:</p><ul><li>we allow for the possibility that hosts can join and leave, without
necessarily taking the whole cluster down. In the case of <code>o2cb</code> we
should be able to have <code>join</code> work live and only <code>eject</code> requires
maintenance mode</li><li>rather than write explicit RPCs to update cluster configuration state
we instead use an event watch and resync pattern, which is hopefully
more robust to network glitches while a reconfiguration is in progress.</li></ul><h1 id=managing-xhad>Managing xhad</h1><p>We need to ensure <code>o2cb</code> and <code>xhad</code> do not try to conflict by fencing
hosts at the same time. We shall:</p><ul><li><p>use the default <code>o2cb</code> timeouts (hosts fence if no I/O in 60s): this
needs to be short because disk I/O <em>on otherwise working hosts</em> can
be blocked while another host is failing/ has failed.</p></li><li><p>make the <code>xhad</code> host fence timeouts much longer: 300s. It&rsquo;s much more
important that this is reliable than fast. We will make this change
globally and not just when using OCFS2.</p></li></ul><p>In the <code>xhad</code> config we will cap the <code>HeartbeatInterval</code> and <code>StatefileInterval</code>
at 5s (the default otherwise would be 31s). This means that 60 heartbeat
messages have to be lost before <code>xhad</code> concludes that the host has failed.</p><h1 id=sm-plugin>SM plugin</h1><p>The SM plugin <code>OCFS2</code> will be a file-based plugin.</p><p>TODO: which file format by default?</p><p>The SM plugin will first check whether the <code>o2cb</code> cluster is active and fail
operations if it is not.</p><h1 id=io-paths>I/O paths</h1><p>When either HA or OCFS O2CB &ldquo;fences&rdquo; the host it will look to the admin like
a host crash and reboot. We need to (in priority order)</p><ol><li>help the admin <em>prevent</em> fences by monitoring their I/O paths
and fixing issues before they lead to trouble</li><li>when a fence/crash does happen, help the admin<ul><li>tell the difference between an I/O error (admin to fix) and a software
bug (which should be reported)</li><li>understand how to make their system more reliable</li></ul></li></ol><h2 id=monitoring-io-paths>Monitoring I/O paths</h2><p>If heartbeat I/O fails for more than 60s when running <code>o2cb</code> then the host will fence.
This can happen either</p><ul><li><p>for a good reason: for example the host software may have deadlocked or someone may
have pulled out a network cable.</p></li><li><p>for a bad reason: for example a network bond link failure may have been ignored
and then the second link failed; or the heartbeat thread may have been starved of
I/O bandwidth by other processes</p></li></ul><p>Since the consequences of fencing are severe &ndash; all VMs on the host crash simultaneously &ndash;
it is important to avoid the host fencing for bad reasons.</p><p>We should recommend that all users</p><ul><li>use network bonding for their network heartbeat</li><li>use multipath for their storage heartbeat</li></ul><p>Furthermore we need to <em>help</em> users monitor their I/O paths. It&rsquo;s no good if they use
a bonded network but fail to notice when one of the paths have failed.</p><p>The current XenServer HA implementation generates the following I/O-related alerts:</p><ul><li><code>HA_HEARTBEAT_APPROACHING_TIMEOUT</code> (priority 5 &ldquo;informational&rdquo;): when half the
network heartbeat timeout has been reached.</li><li><code>HA_STATEFILE_APPROACHING_TIMEOUT</code> (priority 5 &ldquo;informational&rdquo;): when half the
storage heartbeat timeout has been reached.</li><li><code>HA_NETWORK_BONDING_ERROR</code> (priority 3 &ldquo;service degraded&rdquo;): when one of the bond
links have failed.</li><li><code>HA_STATEFILE_LOST</code> (priority 2 &ldquo;service loss imminent&rdquo;): when the storage heartbeat
has completely failed and only the network heartbeat is left.</li><li>MULTIPATH_PERIODIC_ALERT (priority 3 &ldquo;service degrated&rdquo;): when one of the multipath
links have failed.</li></ul><p>Unfortunately alerts are triggered on &ldquo;edges&rdquo; i.e. when state changes, and not on &ldquo;levels&rdquo;
so it is difficult to see whether the link is currently broken.</p><p>We should define datasources suitable for use by xcp-rrdd to expose the current state
(and the history) of the I/O paths as follows:</p><ul><li><code>pif_&lt;name>_paths_failed</code>: the total number of paths which we know have failed.</li><li><code>pif_&lt;name>_paths_total</code>: the total number of paths which are configured.</li><li><code>sr_&lt;name>_paths_failed</code>: the total number of storage paths which we know have failed.</li><li><code>sr_&lt;name>_paths_total</code>: the total number of storage paths which are configured.</li></ul><p>The <code>pif</code> datasources should be generated by <code>xcp-networkd</code> which already has a
<a href=https://github.com/xapi-project/xcp-networkd/blob/bc0140feba19cf8dcced3bd66e54eeee112af819/networkd/network_monitor_thread.ml#L52 target=_blank>network bond monitoring thread</a>.
THe <code>sr</code> datasources should be generated by <code>xcp-rrdd</code> plugins since there is no
storage daemon to generate them.
We should create RRDs using the <code>MAX</code> consolidation function, otherwise information
about failures will be lost by averaging.</p><p>XenCenter (and any diagnostic tools) should warn when the system is at risk of fencing
in particular if any of the following are true:</p><ul><li><code>pif_&lt;name>_paths_failed</code> is non-zero</li><li><code>sr_&lt;name>_paths_failed</code> is non-zero</li><li><code>pif_&lt;name>_paths_total</code> is less than 2</li><li><code>sr_&lt;name>_paths_total</code> is less than 2</li></ul><p>XenCenter (and any diagnostic tools) should warn if any of the following <em>have been</em>
true over the past 7 days:</p><ul><li><code>pif_&lt;name>_paths_failed</code> is non-zero</li><li><code>sr_&lt;name>_paths_failed</code> is non-zero</li></ul><h2 id=heartbeat-qos>Heartbeat &ldquo;QoS&rdquo;</h2><p>The network and storage paths used by heartbeats <em>must</em> remain responsive otherwise
the host will fence (i.e. the host and all VMs will crash).</p><p>Outstanding issue: how slow can <code>multipathd</code> get? How does it scale with the number of
LUNs.</p><h1 id=post-crash-diagnostics>Post-crash diagnostics</h1><p>When a host crashes the effect on the user is severe: all the VMs will also
crash. In cases where the host crashed for a bad reason (such as a single failure
after a configuration error) we must help the user understand how they can
avoid the same situation happening again.</p><p>We must make sure the crash kernel runs reliably when <code>xhad</code> and <code>o2cb</code>
fence the host.</p><p>Xcp-rrdd will be modified to store RRDs in an <code>mmap(2)</code>d file sin the dom0
filesystem (rather than in-memory). Xcp-rrdd will call <code>msync(2)</code> every 5s
to ensure the historical records have hit the disk. We should use the same
on-disk format as RRDtool (or as close to it as makes sense) because it has
already been optimised to minimise the amount of I/O.</p><p>Xapi will be modified to run a crash-dump analyser program <code>xen-crash-analyse</code>.</p><p><code>xen-crash-analyse</code> will:</p><ul><li>parse the Xen and dom0 stacks and diagnose whether<ul><li>the dom0 kernel was panic&rsquo;ed by <code>o2cb</code></li><li>the Xen watchdog was fired by <code>xhad</code></li><li>anything else: this would indicate a bug that should be reported</li></ul></li><li>in cases where the system was fenced by <code>o2cb</code> or <code>xhad</code> then the analyser<ul><li>will read the archived RRDs and look for recent evidence of a path failure
or of a bad configuration (i.e. one where the total number of paths is 1)</li><li>will parse the <code>xhad.log</code> and look for evidence of heartbeats &ldquo;approaching
timeout&rdquo;</li></ul></li></ul><p>TODO: depending on what information we can determine from the analyser, we
will want to record some of it in the <code>Host_crash_dump</code> database table.</p><p>XenCenter will be modified to explain why the host crashed and explain what
the user should do to fix it, specifically:</p><ul><li>if the host crashed for no obvious reason then consider this a software
bug and recommend a bugtool/system-status-report is taken and uploaded somewhere</li><li>if the host crashed because of <code>o2cb</code> or <code>xhad</code> then either<ul><li>if there is evidence of path failures in the RRDs: recommend the user
increase the number of paths or investigate whether some of the equipment
(NICs or switches or HBAs or SANs) is unreliable</li><li>if there is evidence of insufficient paths: recommend the user add more
paths</li></ul></li></ul><h1 id=network-configuration>Network configuration</h1><p>The documentation should strongly recommend</p><ul><li>the management network is bonded</li><li>the management network is dedicated i.e. used only for management traffic
(including heartbeats)</li><li>the OCFS2 storage is multipathed</li></ul><p><code>xcp-networkd</code> will be modified to change the behaviour of the DHCP client.
Currently the <code>dhclient</code> will wait for a response and eventually background
itself. This is a big problem since DHCP can reset the hostname, and this can
break <code>o2cb</code>. Therefore we must insist that <code>PIF.reconfigure_ip</code> becomes
fully synchronous, supporting timeout and cancellation. Once the call returns
&ndash; whether through success or failure &ndash; there must not be anything in the
background which will change the system&rsquo;s hostname.</p><p>TODO: figure out whether we need to request &ldquo;maintenance mode&rdquo; for hostname
changes.</p><h1 id=maintenance-mode>Maintenance mode</h1><p>The purpose of &ldquo;maintenance mode&rdquo; is to take a host out of service and leave
it in a state where it&rsquo;s safe to fiddle with it without affecting services
in VMs.</p><p>XenCenter currently does the following:</p><ul><li><code>Host.disable</code>: prevents new VMs starting here</li><li>makes a list of all the VMs running on the host</li><li><code>Host.evacuate</code>: move the running VMs somewhere else</li></ul><p>The problems with maintenance mode are:</p><ul><li>it&rsquo;s not safe to fiddle with the host network configuration with storage
still attached. For NFS this risks deadlocking the SR. For OCFS2 this
risks fencing the host.</li><li>it&rsquo;s not safe to fiddle with the storage or network configuration if HA
is running because the host will be fenced. It&rsquo;s not safe to disable fencing
unless we guarantee to reboot the host on exit from maintenance mode.</li></ul><p>We should also</p><ul><li><code>PBD.unplug</code>: all storage. This allows the network to be safely reconfigured.
If the network is configured when NFS storage is plugged then the SR can
permanently deadlock; if the network is configured when OCFS2 storage is
plugged then the host can crash.</li></ul><p>TODO: should we add a <code>Host.prepare_for_maintenance</code> (better name TBD)
to take care of all this without XenCenter having to script it. This would also
help CLI and powershell users do the right thing.</p><p>TODO: should we insist that the host is rebooted to leave maintenance
mode? This would make maintenance mode more reliable and allow us to integrate
maintenance mode with xHA (where maintenance mode is a &ldquo;staged reboot&rdquo;)</p><p>TODO: should we leave all clusters as part of maintenance mode? We
probably need to do this to avoid fencing.</p><h1 id=walk-through-adding-ocfs2-storage>Walk-through: adding OCFS2 storage</h1><p>Assume you have an existing Pool of 2 hosts. First the client will set up
the O2CB cluster, choosing where to put the global heartbeat volume. The
client should check that the I/O paths have all been setup correctly with
bonding and multipath and prompt the user to fix any obvious problems.</p><p><a href=#image-12167467f1bc8eecdb6840a7e28cef16 class=lightbox-link><img src=/new-docs/design/ocfs2/o2cb-enable-external.svg alt="The client enables O2CB and then creates an SR" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=image-12167467f1bc8eecdb6840a7e28cef16><img src=/new-docs/design/ocfs2/o2cb-enable-external.svg alt="The client enables O2CB and then creates an SR" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Internally within <code>Pool.enable_o2cb</code> Xapi will set up the cluster metadata
on every host in the pool:</p><p><a href=#image-b9113b3ba6cb6dcda835938c000cec21 class=lightbox-link><img src=/new-docs/design/ocfs2/o2cb-enable-internal1.svg alt="Xapi creates the cluster configuration and each host updates its metadata" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=image-b9113b3ba6cb6dcda835938c000cec21><img src=/new-docs/design/ocfs2/o2cb-enable-internal1.svg alt="Xapi creates the cluster configuration and each host updates its metadata" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>At this point all hosts have in-sync <code>cluster.conf</code> files but all cluster
services are disabled. We also have <code>requires_mainenance=true</code> on all
<code>Membership</code> entries and the global <code>Cluster</code> has <code>enabled=false</code>.
The client will now try to enable the cluster with <code>Cluster.enable</code>:</p><p><a href=#image-5b8930d45c28aa736c1e1ad9eebf69ff class=lightbox-link><img src=/new-docs/design/ocfs2/o2cb-enable-internal2.svg alt="Xapi enables the cluster software on all hosts" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=image-5b8930d45c28aa736c1e1ad9eebf69ff><img src=/new-docs/design/ocfs2/o2cb-enable-internal2.svg alt="Xapi enables the cluster software on all hosts" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Now all hosts are in the cluster and the SR can be created using the standard
SM APIs.</p><h1 id=walk-through-remove-a-host>Walk-through: remove a host</h1><p>Assume you have an existing Pool of 2 hosts with <code>o2cb</code> clustering enabled
and at least one <code>ocfs2</code> filesystem mounted. If the host is online then
<code>XenAPI:Pool.eject</code> will:</p><p><a href=#image-0ca6bf2841c5975a8a122c1d8d35e933 class=lightbox-link><img src=/new-docs/design/ocfs2/pool-eject.svg alt="Xapi ejects a host from the pool" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=image-0ca6bf2841c5975a8a122c1d8d35e933><img src=/new-docs/design/ocfs2/pool-eject.svg alt="Xapi ejects a host from the pool" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Note that:</p><ul><li>All hosts will have modified their <code>o2cb</code> <code>cluster.conf</code> to comment out
the former host</li><li>The <code>Membership</code> table still remembers the node number of the ejected host&ndash;
this cannot be re-used until the SR is taken down for maintenance.</li><li>All hosts can see the difference between their current <code>cluster.conf</code>
and the one they would use if they restarted the cluster service, so all
hosts report that the cluster must be taken offline i.e. <code>requires_maintence=true</code>.</li></ul><h1 id=summary-of-the-impact-on-the-admin>Summary of the impact on the admin</h1><p>OCFS2 is fundamentally a different type of storage to all existing storage
types supported by xapi. OCFS2 relies upon O2CB, which provides
<a href=../../../features/HA/HA.html>Host-level High Availability</a>. All HA implementations
(including O2CB and <code>xhad</code>) impose restrictions on the server admin to
prevent unnecessary host &ldquo;fencing&rdquo; (i.e. crashing). Once we have OCFS2 as
a feature, we will have to live with these restrictions which previously only
applied when HA was explicitly enabled. To reduce complexity we will not try
to enforce restrictions only when OCFS2 is being used or is likely to be used.</p><h2 id=impact-even-if-not-using-ocfs2>Impact even if not using OCFS2</h2><ul><li>&ldquo;Maintenance mode&rdquo; now includes detaching all storage.</li><li>Host network reconfiguration can only be done in maintenance mode</li><li>XenServer HA enable takes longer</li><li>XenServer HA failure detection takes longer</li><li>Network configuration with DHCP must be fully synchronous i.e. it wil block
until the DHCP server responds. On a timeout, the change will not be made.</li></ul><h2 id=impact-when-using-ocfs2>Impact when using OCFS2</h2><ul><li>Sometimes a host will not be able to join the pool without taking the
pool into maintenance mode</li><li>Every VM will have to be XSM&rsquo;ed (is that a verb?) to the new OCFS2 storage.
This means that VMs with more than 2 snapshots will have their snapshots
deleted; it means you need to provision another storage target, temporarily
doubling your storage needs; and it will take a long time.</li><li>There will now be 2 different reasons why a host has fenced which the
admin needs to understand.</li></ul><footer class=footline></footer></article></div></main></div><aside id=sidebar class=default-animation><div id=header-topbar class=default-animation></div><div id=header-wrapper class=default-animation><div id=header class=default-animation><img src=https://xapi-project.github.io/new-docs//images/xapi-project.png></div><div class="searchbox default-animation"><i class="fas fa-search" title="Search (CTRL+ALT+f)"></i>
<label class=a11y-only for=search-by>Search</label>
<input data-search-input id=search-by name=search-by class=search-by type=search placeholder=Search...>
<button class=search-clear type=button data-search-clear title="Clear search"><i class="fas fa-times" title="Clear search"></i></button></div><script>var contentLangs=["en"]</script><script src=/new-docs/js/auto-complete.js?1737562317 defer></script><script src=/new-docs/js/lunr/lunr.min.js?1737562317 defer></script><script src=/new-docs/js/lunr/lunr.stemmer.support.min.js?1737562317 defer></script><script src=/new-docs/js/lunr/lunr.multi.min.js?1737562317 defer></script><script src=/new-docs/js/lunr/lunr.en.min.js?1737562317 defer></script><script src=/new-docs/js/search.js?1737562317 defer></script></div><div id=homelinks class="default-animation homelinks"><ul><li><a class=padding href=/new-docs/index.html><i class="fas fa-home"></i> Home</a></li></ul><hr class=padding></div><div id=content-wrapper class=highlightable><div id=topics><ul class="enlarge morespace collapsible-menu"><li data-nav-id=/new-docs/toolstack/index.html><input type=checkbox id=section-c07cb9535216f23c337b2d2775e06818 aria-controls=subsections-c07cb9535216f23c337b2d2775e06818><label for=section-c07cb9535216f23c337b2d2775e06818><i class="fas fa-chevron-down"></i><i class="fas fa-chevron-right"></i><span class=a11y-only>Submenu The Toolstack</span></label><a class=padding href=/new-docs/toolstack/index.html>The Toolstack</a><ul id=subsections-c07cb9535216f23c337b2d2775e06818 class="morespace collapsible-menu"><li data-nav-id=/new-docs/toolstack/responsibilities/index.html><a class=padding href=/new-docs/toolstack/responsibilities/index.html>Responsibilities</a></li><li data-nav-id=/new-docs/toolstack/high-level/index.html><input type=checkbox id=section-5afe18455eaf7ffc30d03fff44ab2317 aria-controls=subsections-5afe18455eaf7ffc30d03fff44ab2317><label for=section-5afe18455eaf7ffc30d03fff44ab2317><i class="fas fa-chevron-down"></i><i class="fas fa-chevron-right"></i><span class=a11y-only>Submenu High-level architecture</span></label><a class=padding href=/new-docs/toolstack/high-level/index.html>High-level architecture</a><ul id=subsections-5afe18455eaf7ffc30d03fff44ab2317 class="morespace collapsible-menu"><li data-nav-id=/new-docs/toolstack/high-level/environment/index.html><a class=padding href=/new-docs/toolstack/high-level/environment/index.html>Environment</a></li><li data-nav-id=/new-docs/toolstack/high-level/daemons/index.html><a class=padding href=/new-docs/toolstack/high-level/daemons/index.html>Daemons</a></li><li data-nav-id=/new-docs/toolstack/high-level/interfaces/index.html><a class=padding href=/new-docs/toolstack/high-level/interfaces/index.html>Interfaces</a></li></ul></li><li data-nav-id=/new-docs/toolstack/features/index.html><input type=checkbox id=section-97a86561195abf2332100cc6e0e65a19 aria-controls=subsections-97a86561195abf2332100cc6e0e65a19><label for=section-97a86561195abf2332100cc6e0e65a19><i class="fas fa-chevron-down"></i><i class="fas fa-chevron-right"></i><span class=a11y-only>Submenu Features</span></label><a class=padding href=/new-docs/toolstack/features/index.html>Features</a><ul id=subsections-97a86561195abf2332100cc6e0e65a19 class="morespace collapsible-menu"><li data-nav-id=/new-docs/toolstack/features/DR/index.html><a class=padding href=/new-docs/toolstack/features/DR/index.html>Disaster Recovery</a></li><li data-nav-id=/new-docs/toolstack/features/events/index.html><a class=padding href=/new-docs/toolstack/features/events/index.html>Event handling</a></li><li data-nav-id=/new-docs/toolstack/features/HA/index.html><a class=padding href=/new-docs/toolstack/features/HA/index.html>High-Availability</a></li><li data-nav-id=/new-docs/toolstack/features/MVD/index.html><a class=padding href=/new-docs/toolstack/features/MVD/index.html>Multi-version drivers</a></li><li data-nav-id=/new-docs/toolstack/features/NUMA/index.html><a class=padding href=/new-docs/toolstack/features/NUMA/index.html>NUMA</a></li><li data-nav-id=/new-docs/toolstack/features/snapshots/index.html><a class=padding href=/new-docs/toolstack/features/snapshots/index.html>Snapshots</a></li><li data-nav-id=/new-docs/toolstack/features/VGPU/index.html><a class=padding href=/new-docs/toolstack/features/VGPU/index.html>vGPU</a></li><li data-nav-id=/new-docs/toolstack/features/XSM/index.html><a class=padding href=/new-docs/toolstack/features/XSM/index.html>Xapi Storage Migration</a></li></ul></li></ul></li><li data-nav-id=/new-docs/xapi/index.html><input type=checkbox id=section-33027d80ae6269a02a5fd93b891fabf2 aria-controls=subsections-33027d80ae6269a02a5fd93b891fabf2><label for=section-33027d80ae6269a02a5fd93b891fabf2><i class="fas fa-chevron-down"></i><i class="fas fa-chevron-right"></i><span class=a11y-only>Submenu Xapi</span></label><a class=padding href=/new-docs/xapi/index.html>Xapi</a><ul id=subsections-33027d80ae6269a02a5fd93b891fabf2 class="morespace collapsible-menu"><li data-nav-id=/new-docs/xapi/guides/index.html><input type=checkbox id=section-8ef146c709042d196b298c9b1b96dff3 aria-controls=subsections-8ef146c709042d196b298c9b1b96dff3><label for=section-8ef146c709042d196b298c9b1b96dff3><i class="fas fa-chevron-down"></i><i class="fas fa-chevron-right"></i><span class=a11y-only>Submenu Guides</span></label><a class=padding href=/new-docs/xapi/guides/index.html>Guides</a><ul id=subsections-8ef146c709042d196b298c9b1b96dff3 class="morespace collapsible-menu"><li data-nav-id=/new-docs/xapi/guides/howtos/index.html><input type=checkbox id=section-64f1f4d4c28206b78c155508422ea4cd aria-controls=subsections-64f1f4d4c28206b78c155508422ea4cd><label for=section-64f1f4d4c28206b78c155508422ea4cd><i class="fas fa-chevron-down"></i><i class="fas fa-chevron-right"></i><span class=a11y-only>Submenu How to add....</span></label><a class=padding href=/new-docs/xapi/guides/howtos/index.html>How to add....</a><ul id=subsections-64f1f4d4c28206b78c155508422ea4cd class="morespace collapsible-menu"><li data-nav-id=/new-docs/xapi/guides/howtos/add-class/index.html><a class=padding href=/new-docs/xapi/guides/howtos/add-class/index.html>Adding a Class to the API</a></li><li data-nav-id=/new-docs/xapi/guides/howtos/add-field/index.html><a class=padding href=/new-docs/xapi/guides/howtos/add-field/index.html>Adding a field to the API</a></li><li data-nav-id=/new-docs/xapi/guides/howtos/add-function/index.html><a class=padding href=/new-docs/xapi/guides/howtos/add-function/index.html>Adding a function to the API</a></li><li data-nav-id=/new-docs/xapi/guides/howtos/add-api-extension/index.html><a class=padding href=/new-docs/xapi/guides/howtos/add-api-extension/index.html>Adding a XenAPI extension</a></li></ul></li></ul></li><li data-nav-id=/new-docs/xapi/database/index.html><input type=checkbox id=section-99d387aad41889b71a2f6c1f42963ecb aria-controls=subsections-99d387aad41889b71a2f6c1f42963ecb><label for=section-99d387aad41889b71a2f6c1f42963ecb><i class="fas fa-chevron-down"></i><i class="fas fa-chevron-right"></i><span class=a11y-only>Submenu Database</span></label><a class=padding href=/new-docs/xapi/database/index.html>Database</a><ul id=subsections-99d387aad41889b71a2f6c1f42963ecb class="morespace collapsible-menu"><li data-nav-id=/new-docs/xapi/database/redo-log/index.html><a class=padding href=/new-docs/xapi/database/redo-log/index.html>Metadata-on-LUN</a></li></ul></li><li data-nav-id=/new-docs/xapi/memory/index.html><a class=padding href=/new-docs/xapi/memory/index.html>Memory</a></li><li data-nav-id=/new-docs/xapi/walkthroughs/index.html><input type=checkbox id=section-d910533a58cb254b4b25034af52de5a2 aria-controls=subsections-d910533a58cb254b4b25034af52de5a2><label for=section-d910533a58cb254b4b25034af52de5a2><i class="fas fa-chevron-down"></i><i class="fas fa-chevron-right"></i><span class=a11y-only>Submenu Walk-throughs</span></label><a class=padding href=/new-docs/xapi/walkthroughs/index.html>Walk-throughs</a><ul id=subsections-d910533a58cb254b4b25034af52de5a2 class="morespace collapsible-menu"><li data-nav-id=/new-docs/xapi/walkthroughs/migration_overview/index.html><a class=padding href=/new-docs/xapi/walkthroughs/migration_overview/index.html>How XAPI handles migration request</a></li></ul></li><li data-nav-id=/new-docs/xapi/storage/index.html><input type=checkbox id=section-3cc96449cd26bf8eb7cbf9384a230344 aria-controls=subsections-3cc96449cd26bf8eb7cbf9384a230344><label for=section-3cc96449cd26bf8eb7cbf9384a230344><i class="fas fa-chevron-down"></i><i class="fas fa-chevron-right"></i><span class=a11y-only>Submenu Storage</span></label><a class=padding href=/new-docs/xapi/storage/index.html>Storage</a><ul id=subsections-3cc96449cd26bf8eb7cbf9384a230344 class="morespace collapsible-menu"><li data-nav-id=/new-docs/xapi/storage/sxm/index.html><a class=padding href=/new-docs/xapi/storage/sxm/index.html>Storage migration</a></li></ul></li><li data-nav-id=/new-docs/xapi/cli/index.html><a class=padding href=/new-docs/xapi/cli/index.html>CLI</a></li></ul></li><li data-nav-id=/new-docs/xenopsd/index.html><input type=checkbox id=section-1f0127f277e3187880f70ebff82e227a aria-controls=subsections-1f0127f277e3187880f70ebff82e227a><label for=section-1f0127f277e3187880f70ebff82e227a><i class="fas fa-chevron-down"></i><i class="fas fa-chevron-right"></i><span class=a11y-only>Submenu Xenopsd</span></label><a class=padding href=/new-docs/xenopsd/index.html>Xenopsd</a><ul id=subsections-1f0127f277e3187880f70ebff82e227a class="morespace collapsible-menu"><li data-nav-id=/new-docs/xenopsd/architecture/index.html><a class=padding href=/new-docs/xenopsd/architecture/index.html>Architecture</a></li><li data-nav-id=/new-docs/xenopsd/design/index.html><input type=checkbox id=section-3e9239b08d5c8eec860b68f7db460731 aria-controls=subsections-3e9239b08d5c8eec860b68f7db460731><label for=section-3e9239b08d5c8eec860b68f7db460731><i class="fas fa-chevron-down"></i><i class="fas fa-chevron-right"></i><span class=a11y-only>Submenu Design</span></label><a class=padding href=/new-docs/xenopsd/design/index.html>Design</a><ul id=subsections-3e9239b08d5c8eec860b68f7db460731 class="morespace collapsible-menu"><li data-nav-id=/new-docs/xenopsd/design/Events/index.html><a class=padding href=/new-docs/xenopsd/design/Events/index.html>Events</a></li><li data-nav-id=/new-docs/xenopsd/design/hooks/index.html><a class=padding href=/new-docs/xenopsd/design/hooks/index.html>Hooks</a></li><li data-nav-id=/new-docs/xenopsd/design/pvs-proxy-ovs/index.html><a class=padding href=/new-docs/xenopsd/design/pvs-proxy-ovs/index.html>PVS Proxy OVS Rules</a></li><li data-nav-id=/new-docs/xenopsd/design/suspend-image-considerations/index.html><a class=padding href=/new-docs/xenopsd/design/suspend-image-considerations/index.html>Requirements for suspend image framing</a></li><li data-nav-id=/new-docs/xenopsd/design/suspend-image-framing-format/index.html><a class=padding href=/new-docs/xenopsd/design/suspend-image-framing-format/index.html>Suspend image framing format</a></li><li data-nav-id=/new-docs/xenopsd/design/Tasks/index.html><a class=padding href=/new-docs/xenopsd/design/Tasks/index.html>Tasks</a></li></ul></li><li data-nav-id=/new-docs/xenopsd/features/index.html><a class=padding href=/new-docs/xenopsd/features/index.html>Features</a></li><li data-nav-id=/new-docs/xenopsd/walkthroughs/index.html><input type=checkbox id=section-d1377a11024344bacd9fe429c8b31fb0 aria-controls=subsections-d1377a11024344bacd9fe429c8b31fb0><label for=section-d1377a11024344bacd9fe429c8b31fb0><i class="fas fa-chevron-down"></i><i class="fas fa-chevron-right"></i><span class=a11y-only>Submenu Walk-throughs</span></label><a class=padding href=/new-docs/xenopsd/walkthroughs/index.html>Walk-throughs</a><ul id=subsections-d1377a11024344bacd9fe429c8b31fb0 class="morespace collapsible-menu"><li data-nav-id=/new-docs/xenopsd/walkthroughs/live-migration/index.html><a class=padding href=/new-docs/xenopsd/walkthroughs/live-migration/index.html>Live Migration</a></li><li data-nav-id=/new-docs/xenopsd/walkthroughs/VM.migrate/index.html><a class=padding href=/new-docs/xenopsd/walkthroughs/VM.migrate/index.html>Walkthrough: Migrating a VM</a></li><li data-nav-id=/new-docs/xenopsd/walkthroughs/VM.start/index.html><a class=padding href=/new-docs/xenopsd/walkthroughs/VM.start/index.html>Walkthrough: Starting a VM</a></li></ul></li></ul></li><li data-nav-id=/new-docs/xcp-networkd/index.html><a class=padding href=/new-docs/xcp-networkd/index.html>Networkd</a></li><li data-nav-id=/new-docs/squeezed/index.html><input type=checkbox id=section-4d3924b1d680fd256ca5fef90c99f5e9 aria-controls=subsections-4d3924b1d680fd256ca5fef90c99f5e9><label for=section-4d3924b1d680fd256ca5fef90c99f5e9><i class="fas fa-chevron-down"></i><i class="fas fa-chevron-right"></i><span class=a11y-only>Submenu Squeezed</span></label><a class=padding href=/new-docs/squeezed/index.html>Squeezed</a><ul id=subsections-4d3924b1d680fd256ca5fef90c99f5e9 class="morespace collapsible-menu"><li data-nav-id=/new-docs/squeezed/architecture/index.html><a class=padding href=/new-docs/squeezed/architecture/index.html>Architecture</a></li><li data-nav-id=/new-docs/squeezed/design/index.html><a class=padding href=/new-docs/squeezed/design/index.html>Design</a></li></ul></li><li data-nav-id=/new-docs/xapi-guard/index.html><a class=padding href=/new-docs/xapi-guard/index.html>Xapi-guard</a></li><li data-nav-id=/new-docs/design/index.html class=parent><input type=checkbox id=section-e653141d71210cf0b97a57ab33111fa3 aria-controls=subsections-e653141d71210cf0b97a57ab33111fa3 checked><label for=section-e653141d71210cf0b97a57ab33111fa3><i class="fas fa-chevron-down"></i><i class="fas fa-chevron-right"></i><span class=a11y-only>Submenu Designs</span></label><a class=padding href=/new-docs/design/index.html>Designs</a><ul id=subsections-e653141d71210cf0b97a57ab33111fa3 class="morespace collapsible-menu"><li data-nav-id=/new-docs/design/aggr-storage-reboots/index.html><a class=padding href=/new-docs/design/aggr-storage-reboots/index.html>Aggregated Local Storage and Host Reboots</a></li><li data-nav-id=/new-docs/design/backtraces/index.html><a class=padding href=/new-docs/design/backtraces/index.html>Backtrace support</a></li><li data-nav-id=/new-docs/design/bonding-improvements/index.html><a class=padding href=/new-docs/design/bonding-improvements/index.html>Bonding Improvements design</a></li><li data-nav-id=/new-docs/design/coverage/index.html><a class=padding href=/new-docs/design/coverage/index.html>Code Coverage Profiling</a></li><li data-nav-id=/new-docs/design/cpu-levelling-v2/index.html><a class=padding href=/new-docs/design/cpu-levelling-v2/index.html>CPU feature levelling 2.0</a></li><li data-nav-id=/new-docs/design/distributed-database/index.html><a class=padding href=/new-docs/design/distributed-database/index.html>Distributed database</a></li><li data-nav-id=/new-docs/design/emergency-network-reset/index.html><a class=padding href=/new-docs/design/emergency-network-reset/index.html>Emergency Network Reset Design</a></li><li data-nav-id=/new-docs/design/fcoe-nics/index.html><a class=padding href=/new-docs/design/fcoe-nics/index.html>FCoE capable NICs</a></li><li data-nav-id=/new-docs/design/gpu-passthrough/index.html><a class=padding href=/new-docs/design/gpu-passthrough/index.html>GPU pass-through support</a></li><li data-nav-id=/new-docs/design/gpu-support-evolution/index.html><a class=padding href=/new-docs/design/gpu-support-evolution/index.html>GPU support evolution</a></li><li data-nav-id=/new-docs/design/pif-properties/index.html><a class=padding href=/new-docs/design/pif-properties/index.html>GRO and other properties of PIFs</a></li><li data-nav-id=/new-docs/design/heterogeneous-pools/index.html><a class=padding href=/new-docs/design/heterogeneous-pools/index.html>Heterogeneous pools</a></li><li data-nav-id=/new-docs/design/snapshot-revert/index.html><a class=padding href=/new-docs/design/snapshot-revert/index.html>Improving snapshot revert behaviour</a></li><li data-nav-id=/new-docs/design/integrated-gpu-passthrough/index.html><a class=padding href=/new-docs/design/integrated-gpu-passthrough/index.html>Integrated GPU passthrough support</a></li><li data-nav-id=/new-docs/design/local-database/index.html><a class=padding href=/new-docs/design/local-database/index.html>Local database</a></li><li data-nav-id=/new-docs/design/management-interface-on-vlan/index.html><a class=padding href=/new-docs/design/management-interface-on-vlan/index.html>Management Interface on VLAN</a></li><li data-nav-id=/new-docs/design/multiple-cluster-managers/index.html><a class=padding href=/new-docs/design/multiple-cluster-managers/index.html>Multiple Cluster Managers</a></li><li data-nav-id=/new-docs/design/multiple-device-emulators/index.html><a class=padding href=/new-docs/design/multiple-device-emulators/index.html>Multiple device emulators</a></li><li data-nav-id=/new-docs/design/ocfs2/index.html class=active><a class=padding href=/new-docs/design/ocfs2/index.html>OCFS2 storage</a></li><li data-nav-id=/new-docs/design/patches-in-vdis/index.html><a class=padding href=/new-docs/design/patches-in-vdis/index.html>patches in VDIs</a></li><li data-nav-id=/new-docs/design/pci-passthrough/index.html><a class=padding href=/new-docs/design/pci-passthrough/index.html>PCI passthrough support</a></li><li data-nav-id=/new-docs/design/pool-wide-ssh/index.html><a class=padding href=/new-docs/design/pool-wide-ssh/index.html>Pool-wide SSH</a></li><li data-nav-id=/new-docs/design/xenopsd_events/index.html><a class=padding href=/new-docs/design/xenopsd_events/index.html>Process events from xenopsd in a timely manner</a></li><li data-nav-id=/new-docs/design/RDP/index.html><a class=padding href=/new-docs/design/RDP/index.html>RDP control</a></li><li data-nav-id=/new-docs/design/archival-redesign/index.html><a class=padding href=/new-docs/design/archival-redesign/index.html>RRDD archival redesign</a></li><li data-nav-id=/new-docs/design/plugin-protocol-v2/index.html><a class=padding href=/new-docs/design/plugin-protocol-v2/index.html>RRDD plugin protocol v2</a></li><li data-nav-id=/new-docs/design/plugin-protocol-v3/index.html><a class=padding href=/new-docs/design/plugin-protocol-v3/index.html>RRDD plugin protocol v3</a></li><li data-nav-id=/new-docs/design/schedule-snapshot/index.html><a class=padding href=/new-docs/design/schedule-snapshot/index.html>Schedule Snapshot Design</a></li><li data-nav-id=/new-docs/design/smapiv3/index.html><a class=padding href=/new-docs/design/smapiv3/index.html>SMAPIv3</a></li><li data-nav-id=/new-docs/design/emulated-pci-spec/index.html><a class=padding href=/new-docs/design/emulated-pci-spec/index.html>Specifying Emulated PCI Devices</a></li><li data-nav-id=/new-docs/design/sr-level-rrds/index.html><a class=padding href=/new-docs/design/sr-level-rrds/index.html>SR-Level RRDs</a></li><li data-nav-id=/new-docs/design/thin-lvhd/index.html><a class=padding href=/new-docs/design/thin-lvhd/index.html>thin LVHD storage</a></li><li data-nav-id=/new-docs/design/pool-certificates/index.html><a class=padding href=/new-docs/design/pool-certificates/index.html>TLS vertification for intra-pool communications</a></li><li data-nav-id=/new-docs/design/tunnelling/index.html><a class=padding href=/new-docs/design/tunnelling/index.html>Tunnelling API design</a></li><li data-nav-id=/new-docs/design/user-certificates/index.html><a class=padding href=/new-docs/design/user-certificates/index.html>User-installable host certificates</a></li><li data-nav-id=/new-docs/design/vgpu-type-identifiers/index.html><a class=padding href=/new-docs/design/vgpu-type-identifiers/index.html>VGPU type identifiers</a></li><li data-nav-id=/new-docs/design/virt-hw-platform-vn/index.html><a class=padding href=/new-docs/design/virt-hw-platform-vn/index.html>Virtual Hardware Platform Version</a></li><li data-nav-id=/new-docs/design/xenprep/index.html><a class=padding href=/new-docs/design/xenprep/index.html>XenPrep</a></li></ul></li><li data-nav-id=/new-docs/python/index.html><a class=padding href=/new-docs/python/index.html>Python</a></li><li data-nav-id=/new-docs/xcp-rrdd/index.html><input type=checkbox id=section-cf6a8dced26754e70af31218d174496d aria-controls=subsections-cf6a8dced26754e70af31218d174496d><label for=section-cf6a8dced26754e70af31218d174496d><i class="fas fa-chevron-down"></i><i class="fas fa-chevron-right"></i><span class=a11y-only>Submenu RRDD</span></label><a class=padding href=/new-docs/xcp-rrdd/index.html>RRDD</a><ul id=subsections-cf6a8dced26754e70af31218d174496d class="morespace collapsible-menu"><li data-nav-id=/new-docs/xcp-rrdd/futures/archival-redesign/index.html><a class=padding href=/new-docs/xcp-rrdd/futures/archival-redesign/index.html>RRDD archival redesign</a></li><li data-nav-id=/new-docs/xcp-rrdd/design/plugin-protocol-v2/index.html><a class=padding href=/new-docs/xcp-rrdd/design/plugin-protocol-v2/index.html>RRDD plugin protocol v2</a></li><li data-nav-id=/new-docs/xcp-rrdd/futures/sr-level-rrds/index.html><a class=padding href=/new-docs/xcp-rrdd/futures/sr-level-rrds/index.html>SR-Level RRDs</a></li></ul></li><li data-nav-id=/new-docs/xen-api/index.html><input type=checkbox id=section-ee46cb5ed4ce7026e7291c5bcc02688a aria-controls=subsections-ee46cb5ed4ce7026e7291c5bcc02688a><label for=section-ee46cb5ed4ce7026e7291c5bcc02688a><i class="fas fa-chevron-down"></i><i class="fas fa-chevron-right"></i><span class=a11y-only>Submenu XenAPI</span></label><a class=padding href=/new-docs/xen-api/index.html>XenAPI</a><ul id=subsections-ee46cb5ed4ce7026e7291c5bcc02688a class="morespace collapsible-menu"><li data-nav-id=/new-docs/xen-api/basics/index.html><a class=padding href=/new-docs/xen-api/basics/index.html>XenAPI Basics</a></li><li data-nav-id=/new-docs/xen-api/wire-protocol/index.html><a class=padding href=/new-docs/xen-api/wire-protocol/index.html>Wire Protocol</a></li><li data-nav-id=/new-docs/xen-api/overview/index.html><a class=padding href=/new-docs/xen-api/overview/index.html>Overview of the XenAPI</a></li><li data-nav-id=/new-docs/xen-api/evolution/index.html><a class=padding href=/new-docs/xen-api/evolution/index.html>API evolution</a></li><li data-nav-id=/new-docs/xen-api/usage/index.html><a class=padding href=/new-docs/xen-api/usage/index.html>Using the API</a></li><li data-nav-id=/new-docs/xen-api/classes/index.html><input type=checkbox id=section-346f67834921ad896b90a8a529fb27dc aria-controls=subsections-346f67834921ad896b90a8a529fb27dc><label for=section-346f67834921ad896b90a8a529fb27dc><i class="fas fa-chevron-down"></i><i class="fas fa-chevron-right"></i><span class=a11y-only>Submenu XenAPI Reference</span></label><a class=padding href=/new-docs/xen-api/classes/index.html>XenAPI Reference</a><ul id=subsections-346f67834921ad896b90a8a529fb27dc class="morespace collapsible-menu"><li data-nav-id=/new-docs/xen-api/classes/auth/index.html><a class=padding href=/new-docs/xen-api/classes/auth/index.html>auth</a></li><li data-nav-id=/new-docs/xen-api/classes/blob/index.html><a class=padding href=/new-docs/xen-api/classes/blob/index.html>blob</a></li><li data-nav-id=/new-docs/xen-api/classes/bond/index.html><a class=padding href=/new-docs/xen-api/classes/bond/index.html>Bond</a></li><li data-nav-id=/new-docs/xen-api/classes/certificate/index.html><a class=padding href=/new-docs/xen-api/classes/certificate/index.html>Certificate</a></li><li data-nav-id=/new-docs/xen-api/classes/cluster/index.html><a class=padding href=/new-docs/xen-api/classes/cluster/index.html>Cluster</a></li><li data-nav-id=/new-docs/xen-api/classes/cluster_host/index.html><a class=padding href=/new-docs/xen-api/classes/cluster_host/index.html>Cluster_host</a></li><li data-nav-id=/new-docs/xen-api/classes/console/index.html><a class=padding href=/new-docs/xen-api/classes/console/index.html>console</a></li><li data-nav-id=/new-docs/xen-api/classes/crashdump/index.html><a class=padding href=/new-docs/xen-api/classes/crashdump/index.html>crashdump</a></li><li data-nav-id=/new-docs/xen-api/classes/data_source/index.html><a class=padding href=/new-docs/xen-api/classes/data_source/index.html>data_source</a></li><li data-nav-id=/new-docs/xen-api/classes/dr_task/index.html><a class=padding href=/new-docs/xen-api/classes/dr_task/index.html>DR_task</a></li><li data-nav-id=/new-docs/xen-api/classes/event/index.html><a class=padding href=/new-docs/xen-api/classes/event/index.html>event</a></li><li data-nav-id=/new-docs/xen-api/classes/feature/index.html><a class=padding href=/new-docs/xen-api/classes/feature/index.html>Feature</a></li><li data-nav-id=/new-docs/xen-api/classes/gpu_group/index.html><a class=padding href=/new-docs/xen-api/classes/gpu_group/index.html>GPU_group</a></li><li data-nav-id=/new-docs/xen-api/classes/host/index.html><a class=padding href=/new-docs/xen-api/classes/host/index.html>host</a></li><li data-nav-id=/new-docs/xen-api/classes/host_cpu/index.html><a class=padding href=/new-docs/xen-api/classes/host_cpu/index.html>host_cpu</a></li><li data-nav-id=/new-docs/xen-api/classes/host_crashdump/index.html><a class=padding href=/new-docs/xen-api/classes/host_crashdump/index.html>host_crashdump</a></li><li data-nav-id=/new-docs/xen-api/classes/host_metrics/index.html><a class=padding href=/new-docs/xen-api/classes/host_metrics/index.html>host_metrics</a></li><li data-nav-id=/new-docs/xen-api/classes/host_patch/index.html><a class=padding href=/new-docs/xen-api/classes/host_patch/index.html>host_patch</a></li><li data-nav-id=/new-docs/xen-api/classes/lvhd/index.html><a class=padding href=/new-docs/xen-api/classes/lvhd/index.html>LVHD</a></li><li data-nav-id=/new-docs/xen-api/classes/message/index.html><a class=padding href=/new-docs/xen-api/classes/message/index.html>message</a></li><li data-nav-id=/new-docs/xen-api/classes/network/index.html><a class=padding href=/new-docs/xen-api/classes/network/index.html>network</a></li><li data-nav-id=/new-docs/xen-api/classes/network_sriov/index.html><a class=padding href=/new-docs/xen-api/classes/network_sriov/index.html>network_sriov</a></li><li data-nav-id=/new-docs/xen-api/classes/observer/index.html><a class=padding href=/new-docs/xen-api/classes/observer/index.html>Observer</a></li><li data-nav-id=/new-docs/xen-api/classes/pbd/index.html><a class=padding href=/new-docs/xen-api/classes/pbd/index.html>PBD</a></li><li data-nav-id=/new-docs/xen-api/classes/pci/index.html><a class=padding href=/new-docs/xen-api/classes/pci/index.html>PCI</a></li><li data-nav-id=/new-docs/xen-api/classes/pgpu/index.html><a class=padding href=/new-docs/xen-api/classes/pgpu/index.html>PGPU</a></li><li data-nav-id=/new-docs/xen-api/classes/pif/index.html><a class=padding href=/new-docs/xen-api/classes/pif/index.html>PIF</a></li><li data-nav-id=/new-docs/xen-api/classes/pif_metrics/index.html><a class=padding href=/new-docs/xen-api/classes/pif_metrics/index.html>PIF_metrics</a></li><li data-nav-id=/new-docs/xen-api/classes/pool/index.html><a class=padding href=/new-docs/xen-api/classes/pool/index.html>pool</a></li><li data-nav-id=/new-docs/xen-api/classes/pool_patch/index.html><a class=padding href=/new-docs/xen-api/classes/pool_patch/index.html>pool_patch</a></li><li data-nav-id=/new-docs/xen-api/classes/pool_update/index.html><a class=padding href=/new-docs/xen-api/classes/pool_update/index.html>pool_update</a></li><li data-nav-id=/new-docs/xen-api/classes/probe_result/index.html><a class=padding href=/new-docs/xen-api/classes/probe_result/index.html>probe_result</a></li><li data-nav-id=/new-docs/xen-api/classes/pusb/index.html><a class=padding href=/new-docs/xen-api/classes/pusb/index.html>PUSB</a></li><li data-nav-id=/new-docs/xen-api/classes/pvs_cache_storage/index.html><a class=padding href=/new-docs/xen-api/classes/pvs_cache_storage/index.html>PVS_cache_storage</a></li><li data-nav-id=/new-docs/xen-api/classes/pvs_proxy/index.html><a class=padding href=/new-docs/xen-api/classes/pvs_proxy/index.html>PVS_proxy</a></li><li data-nav-id=/new-docs/xen-api/classes/pvs_server/index.html><a class=padding href=/new-docs/xen-api/classes/pvs_server/index.html>PVS_server</a></li><li data-nav-id=/new-docs/xen-api/classes/pvs_site/index.html><a class=padding href=/new-docs/xen-api/classes/pvs_site/index.html>PVS_site</a></li><li data-nav-id=/new-docs/xen-api/classes/repository/index.html><a class=padding href=/new-docs/xen-api/classes/repository/index.html>Repository</a></li><li data-nav-id=/new-docs/xen-api/classes/role/index.html><a class=padding href=/new-docs/xen-api/classes/role/index.html>role</a></li><li data-nav-id=/new-docs/xen-api/classes/sdn_controller/index.html><a class=padding href=/new-docs/xen-api/classes/sdn_controller/index.html>SDN_controller</a></li><li data-nav-id=/new-docs/xen-api/classes/secret/index.html><a class=padding href=/new-docs/xen-api/classes/secret/index.html>secret</a></li><li data-nav-id=/new-docs/xen-api/classes/session/index.html><a class=padding href=/new-docs/xen-api/classes/session/index.html>session</a></li><li data-nav-id=/new-docs/xen-api/classes/sm/index.html><a class=padding href=/new-docs/xen-api/classes/sm/index.html>SM</a></li><li data-nav-id=/new-docs/xen-api/classes/sr/index.html><a class=padding href=/new-docs/xen-api/classes/sr/index.html>SR</a></li><li data-nav-id=/new-docs/xen-api/classes/sr_stat/index.html><a class=padding href=/new-docs/xen-api/classes/sr_stat/index.html>sr_stat</a></li><li data-nav-id=/new-docs/xen-api/classes/subject/index.html><a class=padding href=/new-docs/xen-api/classes/subject/index.html>subject</a></li><li data-nav-id=/new-docs/xen-api/classes/task/index.html><a class=padding href=/new-docs/xen-api/classes/task/index.html>task</a></li><li data-nav-id=/new-docs/xen-api/classes/tunnel/index.html><a class=padding href=/new-docs/xen-api/classes/tunnel/index.html>tunnel</a></li><li data-nav-id=/new-docs/xen-api/classes/usb_group/index.html><a class=padding href=/new-docs/xen-api/classes/usb_group/index.html>USB_group</a></li><li data-nav-id=/new-docs/xen-api/classes/user/index.html><a class=padding href=/new-docs/xen-api/classes/user/index.html>user</a></li><li data-nav-id=/new-docs/xen-api/classes/vbd/index.html><a class=padding href=/new-docs/xen-api/classes/vbd/index.html>VBD</a></li><li data-nav-id=/new-docs/xen-api/classes/vbd_metrics/index.html><a class=padding href=/new-docs/xen-api/classes/vbd_metrics/index.html>VBD_metrics</a></li><li data-nav-id=/new-docs/xen-api/classes/vdi/index.html><a class=padding href=/new-docs/xen-api/classes/vdi/index.html>VDI</a></li><li data-nav-id=/new-docs/xen-api/classes/vdi_nbd_server_info/index.html><a class=padding href=/new-docs/xen-api/classes/vdi_nbd_server_info/index.html>vdi_nbd_server_info</a></li><li data-nav-id=/new-docs/xen-api/classes/vgpu/index.html><a class=padding href=/new-docs/xen-api/classes/vgpu/index.html>VGPU</a></li><li data-nav-id=/new-docs/xen-api/classes/vgpu_type/index.html><a class=padding href=/new-docs/xen-api/classes/vgpu_type/index.html>VGPU_type</a></li><li data-nav-id=/new-docs/xen-api/classes/vif/index.html><a class=padding href=/new-docs/xen-api/classes/vif/index.html>VIF</a></li><li data-nav-id=/new-docs/xen-api/classes/vif_metrics/index.html><a class=padding href=/new-docs/xen-api/classes/vif_metrics/index.html>VIF_metrics</a></li><li data-nav-id=/new-docs/xen-api/classes/vlan/index.html><a class=padding href=/new-docs/xen-api/classes/vlan/index.html>VLAN</a></li><li data-nav-id=/new-docs/xen-api/classes/vm/index.html><a class=padding href=/new-docs/xen-api/classes/vm/index.html>VM</a></li><li data-nav-id=/new-docs/xen-api/classes/vm_appliance/index.html><a class=padding href=/new-docs/xen-api/classes/vm_appliance/index.html>VM_appliance</a></li><li data-nav-id=/new-docs/xen-api/classes/vm_guest_metrics/index.html><a class=padding href=/new-docs/xen-api/classes/vm_guest_metrics/index.html>VM_guest_metrics</a></li><li data-nav-id=/new-docs/xen-api/classes/vm_metrics/index.html><a class=padding href=/new-docs/xen-api/classes/vm_metrics/index.html>VM_metrics</a></li><li data-nav-id=/new-docs/xen-api/classes/vmpp/index.html><a class=padding href=/new-docs/xen-api/classes/vmpp/index.html>VMPP</a></li><li data-nav-id=/new-docs/xen-api/classes/vmss/index.html><a class=padding href=/new-docs/xen-api/classes/vmss/index.html>VMSS</a></li><li data-nav-id=/new-docs/xen-api/classes/vtpm/index.html><a class=padding href=/new-docs/xen-api/classes/vtpm/index.html>VTPM</a></li><li data-nav-id=/new-docs/xen-api/classes/vusb/index.html><a class=padding href=/new-docs/xen-api/classes/vusb/index.html>VUSB</a></li></ul></li><li data-nav-id=/new-docs/xen-api/releases/index.html><input type=checkbox id=section-643a2ff800c6dbfe13d99c2449114cc8 aria-controls=subsections-643a2ff800c6dbfe13d99c2449114cc8><label for=section-643a2ff800c6dbfe13d99c2449114cc8><i class="fas fa-chevron-down"></i><i class="fas fa-chevron-right"></i><span class=a11y-only>Submenu XenAPI Releases</span></label><a class=padding href=/new-docs/xen-api/releases/index.html>XenAPI Releases</a><ul id=subsections-643a2ff800c6dbfe13d99c2449114cc8 class="morespace collapsible-menu"><li data-nav-id=/new-docs/xen-api/releases/24.16.0/index.html><a class=padding href=/new-docs/xen-api/releases/24.16.0/index.html>XAPI 24.16.0</a></li><li data-nav-id=/new-docs/xen-api/releases/24.14.0/index.html><a class=padding href=/new-docs/xen-api/releases/24.14.0/index.html>XAPI 24.14.0</a></li><li data-nav-id=/new-docs/xen-api/releases/24.10.0/index.html><a class=padding href=/new-docs/xen-api/releases/24.10.0/index.html>XAPI 24.10.0</a></li><li data-nav-id=/new-docs/xen-api/releases/24.3.0/index.html><a class=padding href=/new-docs/xen-api/releases/24.3.0/index.html>XAPI 24.3.0</a></li><li data-nav-id=/new-docs/xen-api/releases/24.0.0/index.html><a class=padding href=/new-docs/xen-api/releases/24.0.0/index.html>XAPI 24.0.0</a></li><li data-nav-id=/new-docs/xen-api/releases/23.30.0/index.html><a class=padding href=/new-docs/xen-api/releases/23.30.0/index.html>XAPI 23.30.0</a></li><li data-nav-id=/new-docs/xen-api/releases/23.27.0/index.html><a class=padding href=/new-docs/xen-api/releases/23.27.0/index.html>XAPI 23.27.0</a></li><li data-nav-id=/new-docs/xen-api/releases/23.25.0/index.html><a class=padding href=/new-docs/xen-api/releases/23.25.0/index.html>XAPI 23.25.0</a></li><li data-nav-id=/new-docs/xen-api/releases/23.18.0/index.html><a class=padding href=/new-docs/xen-api/releases/23.18.0/index.html>XAPI 23.18.0</a></li><li data-nav-id=/new-docs/xen-api/releases/23.14.0/index.html><a class=padding href=/new-docs/xen-api/releases/23.14.0/index.html>XAPI 23.14.0</a></li><li data-nav-id=/new-docs/xen-api/releases/23.9.0/index.html><a class=padding href=/new-docs/xen-api/releases/23.9.0/index.html>XAPI 23.9.0</a></li><li data-nav-id=/new-docs/xen-api/releases/23.1.0/index.html><a class=padding href=/new-docs/xen-api/releases/23.1.0/index.html>XAPI 23.1.0</a></li><li data-nav-id=/new-docs/xen-api/releases/22.37.0/index.html><a class=padding href=/new-docs/xen-api/releases/22.37.0/index.html>XAPI 22.37.0</a></li><li data-nav-id=/new-docs/xen-api/releases/22.33.0/index.html><a class=padding href=/new-docs/xen-api/releases/22.33.0/index.html>XAPI 22.33.0</a></li><li data-nav-id=/new-docs/xen-api/releases/22.27.0/index.html><a class=padding href=/new-docs/xen-api/releases/22.27.0/index.html>XAPI 22.27.0</a></li><li data-nav-id=/new-docs/xen-api/releases/22.26.0/index.html><a class=padding href=/new-docs/xen-api/releases/22.26.0/index.html>XAPI 22.26.0</a></li><li data-nav-id=/new-docs/xen-api/releases/22.20.0/index.html><a class=padding href=/new-docs/xen-api/releases/22.20.0/index.html>XAPI 22.20.0</a></li><li data-nav-id=/new-docs/xen-api/releases/22.19.0/index.html><a class=padding href=/new-docs/xen-api/releases/22.19.0/index.html>XAPI 22.19.0</a></li><li data-nav-id=/new-docs/xen-api/releases/22.16.0/index.html><a class=padding href=/new-docs/xen-api/releases/22.16.0/index.html>XAPI 22.16.0</a></li><li data-nav-id=/new-docs/xen-api/releases/22.12.0/index.html><a class=padding href=/new-docs/xen-api/releases/22.12.0/index.html>XAPI 22.12.0</a></li><li data-nav-id=/new-docs/xen-api/releases/22.5.0/index.html><a class=padding href=/new-docs/xen-api/releases/22.5.0/index.html>XAPI 22.5.0</a></li><li data-nav-id=/new-docs/xen-api/releases/21.4.0/index.html><a class=padding href=/new-docs/xen-api/releases/21.4.0/index.html>XAPI 21.4.0</a></li><li data-nav-id=/new-docs/xen-api/releases/21.3.0/index.html><a class=padding href=/new-docs/xen-api/releases/21.3.0/index.html>XAPI 21.3.0</a></li><li data-nav-id=/new-docs/xen-api/releases/21.2.0/index.html><a class=padding href=/new-docs/xen-api/releases/21.2.0/index.html>XAPI 21.2.0</a></li><li data-nav-id=/new-docs/xen-api/releases/1.329.0/index.html><a class=padding href=/new-docs/xen-api/releases/1.329.0/index.html>XAPI 1.329.0</a></li><li data-nav-id=/new-docs/xen-api/releases/1.318.0/index.html><a class=padding href=/new-docs/xen-api/releases/1.318.0/index.html>XAPI 1.318.0</a></li><li data-nav-id=/new-docs/xen-api/releases/1.313.0/index.html><a class=padding href=/new-docs/xen-api/releases/1.313.0/index.html>XAPI 1.313.0</a></li><li data-nav-id=/new-docs/xen-api/releases/1.307.0/index.html><a class=padding href=/new-docs/xen-api/releases/1.307.0/index.html>XAPI 1.307.0</a></li><li data-nav-id=/new-docs/xen-api/releases/1.304.0/index.html><a class=padding href=/new-docs/xen-api/releases/1.304.0/index.html>XAPI 1.304.0</a></li><li data-nav-id=/new-docs/xen-api/releases/1.303.0/index.html><a class=padding href=/new-docs/xen-api/releases/1.303.0/index.html>XAPI 1.303.0</a></li><li data-nav-id=/new-docs/xen-api/releases/1.301.0/index.html><a class=padding href=/new-docs/xen-api/releases/1.301.0/index.html>XAPI 1.301.0</a></li><li data-nav-id=/new-docs/xen-api/releases/1.298.0/index.html><a class=padding href=/new-docs/xen-api/releases/1.298.0/index.html>XAPI 1.298.0</a></li><li data-nav-id=/new-docs/xen-api/releases/1.297.0/index.html><a class=padding href=/new-docs/xen-api/releases/1.297.0/index.html>XAPI 1.297.0</a></li><li data-nav-id=/new-docs/xen-api/releases/1.294.0/index.html><a class=padding href=/new-docs/xen-api/releases/1.294.0/index.html>XAPI 1.294.0</a></li><li data-nav-id=/new-docs/xen-api/releases/1.290.0/index.html><a class=padding href=/new-docs/xen-api/releases/1.290.0/index.html>XAPI 1.290.0</a></li><li data-nav-id=/new-docs/xen-api/releases/1.271.0/index.html><a class=padding href=/new-docs/xen-api/releases/1.271.0/index.html>XAPI 1.271.0</a></li><li data-nav-id=/new-docs/xen-api/releases/1.257.0/index.html><a class=padding href=/new-docs/xen-api/releases/1.257.0/index.html>XAPI 1.257.0</a></li><li data-nav-id=/new-docs/xen-api/releases/1.250.0/index.html><a class=padding href=/new-docs/xen-api/releases/1.250.0/index.html>XAPI 1.250.0</a></li><li data-nav-id=/new-docs/xen-api/releases/nile-preview/index.html><a class=padding href=/new-docs/xen-api/releases/nile-preview/index.html>XenServer 8 Preview</a></li><li data-nav-id=/new-docs/xen-api/releases/stockholm_psr/index.html><a class=padding href=/new-docs/xen-api/releases/stockholm_psr/index.html>Citrix Hypervisor 8.2 Hotfix 2</a></li><li data-nav-id=/new-docs/xen-api/releases/stockholm/index.html><a class=padding href=/new-docs/xen-api/releases/stockholm/index.html>Citrix Hypervisor 8.2</a></li><li data-nav-id=/new-docs/xen-api/releases/quebec/index.html><a class=padding href=/new-docs/xen-api/releases/quebec/index.html>Citrix Hypervisor 8.1</a></li><li data-nav-id=/new-docs/xen-api/releases/naples/index.html><a class=padding href=/new-docs/xen-api/releases/naples/index.html>Citrix Hypervisor 8.0</a></li><li data-nav-id=/new-docs/xen-api/releases/lima/index.html><a class=padding href=/new-docs/xen-api/releases/lima/index.html>XenServer 7.6</a></li><li data-nav-id=/new-docs/xen-api/releases/kolkata/index.html><a class=padding href=/new-docs/xen-api/releases/kolkata/index.html>XenServer 7.5</a></li><li data-nav-id=/new-docs/xen-api/releases/jura/index.html><a class=padding href=/new-docs/xen-api/releases/jura/index.html>XenServer 7.4</a></li><li data-nav-id=/new-docs/xen-api/releases/inverness/index.html><a class=padding href=/new-docs/xen-api/releases/inverness/index.html>XenServer 7.3</a></li><li data-nav-id=/new-docs/xen-api/releases/falcon/index.html><a class=padding href=/new-docs/xen-api/releases/falcon/index.html>XenServer 7.2</a></li><li data-nav-id=/new-docs/xen-api/releases/ely/index.html><a class=padding href=/new-docs/xen-api/releases/ely/index.html>XenServer 7.1</a></li><li data-nav-id=/new-docs/xen-api/releases/dundee/index.html><a class=padding href=/new-docs/xen-api/releases/dundee/index.html>XenServer 7.0</a></li><li data-nav-id=/new-docs/xen-api/releases/indigo/index.html><a class=padding href=/new-docs/xen-api/releases/indigo/index.html>XenServer 6.5 SP1 Hotfix 31</a></li><li data-nav-id=/new-docs/xen-api/releases/cream/index.html><a class=padding href=/new-docs/xen-api/releases/cream/index.html>XenServer 6.5 SP1</a></li><li data-nav-id=/new-docs/xen-api/releases/creedence/index.html><a class=padding href=/new-docs/xen-api/releases/creedence/index.html>XenServer 6.5</a></li><li data-nav-id=/new-docs/xen-api/releases/clearwater-whetstone/index.html><a class=padding href=/new-docs/xen-api/releases/clearwater-whetstone/index.html>XenServer 6.2 SP1 Hotfix 11</a></li><li data-nav-id=/new-docs/xen-api/releases/clearwater-felton/index.html><a class=padding href=/new-docs/xen-api/releases/clearwater-felton/index.html>XenServer 6.2 SP1 Hotfix 4</a></li><li data-nav-id=/new-docs/xen-api/releases/vgpu-productisation/index.html><a class=padding href=/new-docs/xen-api/releases/vgpu-productisation/index.html>XenServer 6.2 SP1</a></li><li data-nav-id=/new-docs/xen-api/releases/vgpu-tech-preview/index.html><a class=padding href=/new-docs/xen-api/releases/vgpu-tech-preview/index.html>XenServer 6.2 SP1 Tech-Preview</a></li><li data-nav-id=/new-docs/xen-api/releases/clearwater/index.html><a class=padding href=/new-docs/xen-api/releases/clearwater/index.html>XenServer 6.2</a></li><li data-nav-id=/new-docs/xen-api/releases/tampa/index.html><a class=padding href=/new-docs/xen-api/releases/tampa/index.html>XenServer 6.1</a></li><li data-nav-id=/new-docs/xen-api/releases/boston/index.html><a class=padding href=/new-docs/xen-api/releases/boston/index.html>XenServer 6.0</a></li><li data-nav-id=/new-docs/xen-api/releases/cowley/index.html><a class=padding href=/new-docs/xen-api/releases/cowley/index.html>XenServer 5.6 FP1</a></li><li data-nav-id=/new-docs/xen-api/releases/midnight-ride/index.html><a class=padding href=/new-docs/xen-api/releases/midnight-ride/index.html>XenServer 5.6</a></li><li data-nav-id=/new-docs/xen-api/releases/george/index.html><a class=padding href=/new-docs/xen-api/releases/george/index.html>XenServer 5.5</a></li><li data-nav-id=/new-docs/xen-api/releases/orlando-update-1/index.html><a class=padding href=/new-docs/xen-api/releases/orlando-update-1/index.html>XenServer 5.0 Update 1</a></li><li data-nav-id=/new-docs/xen-api/releases/orlando/index.html><a class=padding href=/new-docs/xen-api/releases/orlando/index.html>XenServer 5.0</a></li><li data-nav-id=/new-docs/xen-api/releases/symc/index.html><a class=padding href=/new-docs/xen-api/releases/symc/index.html>XenServer 4.1.1</a></li><li data-nav-id=/new-docs/xen-api/releases/miami/index.html><a class=padding href=/new-docs/xen-api/releases/miami/index.html>XenServer 4.1</a></li><li data-nav-id=/new-docs/xen-api/releases/rio/index.html><a class=padding href=/new-docs/xen-api/releases/rio/index.html>XenServer 4.0</a></li></ul></li><li data-nav-id=/new-docs/xen-api/topics/index.html><input type=checkbox id=section-55534ccd35184301305681e857cfc116 aria-controls=subsections-55534ccd35184301305681e857cfc116><label for=section-55534ccd35184301305681e857cfc116><i class="fas fa-chevron-down"></i><i class="fas fa-chevron-right"></i><span class=a11y-only>Submenu Topics</span></label><a class=padding href=/new-docs/xen-api/topics/index.html>Topics</a><ul id=subsections-55534ccd35184301305681e857cfc116 class="morespace collapsible-menu"><li data-nav-id=/new-docs/xen-api/topics/udhcp/index.html><a class=padding href=/new-docs/xen-api/topics/udhcp/index.html>API for configuring the udhcp server in Dom0</a></li><li data-nav-id=/new-docs/xen-api/topics/guest-agents/index.html><a class=padding href=/new-docs/xen-api/topics/guest-agents/index.html>Guest agents</a></li><li data-nav-id=/new-docs/xen-api/topics/memory/index.html><a class=padding href=/new-docs/xen-api/topics/memory/index.html>Memory</a></li><li data-nav-id=/new-docs/xen-api/topics/metrics/index.html><a class=padding href=/new-docs/xen-api/topics/metrics/index.html>Metrics</a></li><li data-nav-id=/new-docs/xen-api/topics/snapshots/index.html><a class=padding href=/new-docs/xen-api/topics/snapshots/index.html>Snapshots</a></li><li data-nav-id=/new-docs/xen-api/topics/consoles/index.html><a class=padding href=/new-docs/xen-api/topics/consoles/index.html>VM consoles</a></li><li data-nav-id=/new-docs/xen-api/topics/importexport/index.html><a class=padding href=/new-docs/xen-api/topics/importexport/index.html>VM import/export</a></li><li data-nav-id=/new-docs/xen-api/topics/vm-lifecycle/index.html><a class=padding href=/new-docs/xen-api/topics/vm-lifecycle/index.html>VM Lifecycle</a></li><li data-nav-id=/new-docs/xen-api/topics/xencenter/index.html><a class=padding href=/new-docs/xen-api/topics/xencenter/index.html>XenCenter</a></li></ul></li></ul></li></ul></div><div class="padding footermargin footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showVariantSwitch"></div><div id=menu-footer><hr class="padding default-animation footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showVariantSwitch"><div id=prefooter class="footerLangSwitch footerVariantSwitch footerVisitedLinks showVariantSwitch"><ul><li id=select-language-container class=footerLangSwitch><div class="padding menu-control"><i class="fas fa-language fa-fw"></i>
<span>&nbsp;</span><div class=control-style><label class=a11y-only for=select-language>Language</label>
<select id=select-language onchange="location=baseUri+this.value"><option lang=en id=en value=/new-docs/design/ocfs2/index.html selected></option></select></div><div class=clear></div></div></li><li id=select-variant-container class="footerVariantSwitch showVariantSwitch"><div class="padding menu-control"><i class="fas fa-paint-brush fa-fw"></i>
<span>&nbsp;</span><div class=control-style><label class=a11y-only for=select-variant>Theme</label>
<select id=select-variant onchange=window.variants&&variants.changeVariant(this.value)><option id=auto value=auto selected>Auto</option><option id=zen-light value=zen-light>Zen Light</option><option id=zen-dark value=zen-dark>Zen Dark</option><option id=red value=red>Red</option><option id=blue value=blue>Blue</option><option id=green value=green>Green</option><option id=learn value=learn>Learn</option><option id=neon value=neon>Neon</option><option id=relearn-light value=relearn-light>Relearn Light</option><option id=relearn-bright value=relearn-bright>Relearn Bright</option><option id=relearn-dark value=relearn-dark>Relearn Dark</option></select></div><div class=clear></div></div><script>window.variants&&variants.markSelectedVariant()</script></li><li class=footerVisitedLinks><div class="padding menu-control"><i class="fas fa-history fa-fw"></i>
<span>&nbsp;</span><div class=control-style><button onclick=clearHistory()>Clear History</button></div><div class=clear></div></div></li></ul></div><div id=footer class=footerFooter></div></div></div></aside><script src=/new-docs/js/clipboard.min.js?1737562317 defer></script><script src=/new-docs/js/perfect-scrollbar.min.js?1737562317 defer></script><script src=/new-docs/js/theme.js?1737562317 defer></script></body></html>