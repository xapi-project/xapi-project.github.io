<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>XAPI's Storage Layers :: XAPI Toolstack Developer Documentation</title><link>https://xapi-project.github.io/new-docs/xapi/storage/index.html</link><description>Info The links in this page point to the source files of xapi v25.11.0.
Xapi directly communicates only with the SMAPIv2 layer. There are no plugins directly implementing the SMAPIv2 interface, but the plugins in other layers are accessed through it:
graph TD A[xapi] --> B[SMAPIv2 interface] B --> C[SMAPIv2 &lt;-> SMAPIv1 state machine: storage_smapiv1_wrapper.ml] C --> G[SMAPIv2 &lt;-> SMAPIv1 translation: storage_smapiv1.ml] B --> D[SMAPIv2 &lt;-> SMAPIv3 translation: xapi-storage-script] G --> E[SMAPIv1 plugins] D --> F[SMAPIv3 plugins] SMAPIv1 These are the files related to SMAPIv1 in xen-api/ocaml/xapi/:</description><generator>Hugo</generator><language>en-us</language><atom:link href="https://xapi-project.github.io/new-docs/xapi/storage/index.xml" rel="self" type="application/rss+xml"/><item><title>Storage migration</title><link>https://xapi-project.github.io/new-docs/xapi/storage/sxm/index.html</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://xapi-project.github.io/new-docs/xapi/storage/sxm/index.html</guid><description>Overview sequenceDiagram participant local_tapdisk as local tapdisk participant local_smapiv2 as local SMAPIv2 participant xapi participant remote_xapi as remote xapi participant remote_smapiv2 as remote SMAPIv2 (might redirect) participant remote_tapdisk as remote tapdisk Note over xapi: Sort VDIs increasingly by size and then age loop VM's &amp; snapshots' VDIs &amp; suspend images xapi->>remote_xapi: plug dest SR to dest host and pool master alt VDI is not mirrored Note over xapi: We don't mirror RO VDIs &amp; VDIs of snapshots xapi->>local_smapiv2: DATA.</description></item></channel></rss>