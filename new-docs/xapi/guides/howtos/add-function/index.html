<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.119.0"><meta name=generator content="Relearn 5.20.0+tip"><meta name=description content><title>Adding a function to the API :: XAPI Toolstack Developer Documentation</title><link href=/new-docs/images/favicon.png?1698406048 rel=icon type=image/png><link href=/new-docs/css/fontawesome-all.min.css?1698406048 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/new-docs/css/fontawesome-all.min.css?1698406048 rel=stylesheet></noscript><link href=/new-docs/css/nucleus.css?1698406048 rel=stylesheet><link href=/new-docs/css/auto-complete.css?1698406048 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/new-docs/css/auto-complete.css?1698406048 rel=stylesheet></noscript><link href=/new-docs/css/perfect-scrollbar.min.css?1698406048 rel=stylesheet><link href=/new-docs/css/fonts.css?1698406048 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/new-docs/css/fonts.css?1698406048 rel=stylesheet></noscript><link href=/new-docs/css/theme.css?1698406048 rel=stylesheet><link href=/new-docs/css/theme-red.css?1698406048 rel=stylesheet id=variant-style><link href=/new-docs/css/variant.css?1698406048 rel=stylesheet><link href=/new-docs/css/print.css?1698406048 rel=stylesheet media=print><link href=/new-docs/css/ie.css?1698406048 rel=stylesheet><script src=/new-docs/js/url.js?1698406048></script>
<script src=/new-docs/js/variant.js?1698406048></script>
<script>window.index_js_url="/new-docs/index.search.js";var root_url="/",baseUriFull,baseUri=root_url.replace(/\/$/,"");window.T_Copy_to_clipboard="Copy to clipboard",window.T_Copied_to_clipboard="Copied to clipboard!",window.T_Copy_link_to_clipboard="Copy link to clipboard",window.T_Link_copied_to_clipboard="Copied link to clipboard!",window.T_No_results_found="No results found for \"{0}\"",window.T_N_results_found="{1} results found for \"{0}\"",baseUriFull="https://xapi-project.github.io/new-docs/",window.variants&&variants.init(["red"])</script></head><body class="mobile-support html" data-url=/new-docs/xapi/guides/howtos/add-function/index.html><div id=body class=default-animation><div id=sidebar-overlay></div><div id=toc-overlay></div><nav id=topbar class=highlightable><div><div class=navigation><a class="nav nav-next topbar-link" href=/new-docs/xapi/guides/howtos/add-api-extension/index.html title="Adding a XenAPI extension (&#129106;)"><i class="fas fa-chevron-right fa-fw"></i></a></div><div class=navigation><a class="nav nav-prev topbar-link" href=/new-docs/xapi/guides/howtos/add-field/index.html title="Adding a field to the API (&#129104;)"><i class="fas fa-chevron-left fa-fw"></i></a></div><div id=breadcrumbs><span id=sidebar-toggle-span><a href=# id=sidebar-toggle class=topbar-link title='Menu (CTRL+ALT+n)'><i class="fas fa-bars fa-fw"></i></a></span>
<span id=toc-menu title='Table of Contents (CTRL+ALT+t)'><i class="fas fa-list-alt fa-fw"></i></span><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/new-docs/index.html><span itemprop=name>XAPI Toolstack Developer Guide</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/new-docs/xapi/index.html><span itemprop=name>Xapi</span></a><meta itemprop=position content="2">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/new-docs/xapi/guides/index.html><span itemprop=name>Guides</span></a><meta itemprop=position content="3">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/new-docs/xapi/guides/howtos/index.html><span itemprop=name>How to add....</span></a><meta itemprop=position content="4">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>Adding a function to the API</span><meta itemprop=position content="5"></li></ol></div><div class="default-animation progress"><div class=toc-wrapper><nav id=TableOfContents><ul><li><a href=#add-message-to-api>Add message to API</a></li><li><a href=#expected-values-in-parameter-in_product_since>Expected values in parameter ~in_product_since</a></li><li><a href=#update-expose_get_all_messages_for-list>Update expose_get_all_messages_for list</a></li><li><a href=#update-the-rbac-field-containing-the-roles-expected-to-use-the-new-api-call>Update the RBAC field containing the roles expected to use the new API call</a></li><li><a href=#how-to-determine-the-correct-role-of-a-new-api-call>How to determine the correct role of a new api-call:</a></li><li><a href=#update-message-forwarding>Update message forwarding</a></li><li><a href=#implement-the-function>Implement the function</a></li><li><a href=#add-the-operation-to-the-cli>Add the operation to the CLI</a></li><li><a href=#tab-completion-in-the-cli>Tab Completion in the CLI</a></li><li><a href=#executing-the-cli-operation>Executing the CLI operation</a></li></ul></nav></div></div></div></nav><main id=body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=adding-a-function-to-the-api>Adding a function to the API</h1><p>This page describes how to add a function to XenAPI.</p><h2 id=add-message-to-api>Add message to API</h2><p>The file <code>idl/datamodel.ml</code> is a description of the API, from which the
marshalling and handler code is generated.</p><p>In this file, the <code>create_obj</code> function is used to define a class which may
contain fields and support operations (known as &ldquo;messages&rdquo;). For example, the
identifier host is defined using create_obj to encapsulate the operations which
can be performed on a host.</p><p>In order to add a function to the API, we need to add a message to an existing
class. This entails adding a function in <code>idl/datamodel.ml</code> or one of the other datamodel files to describe the new
message and adding it to the class&rsquo;s list of messages. In this example, we are adding to <code>idl/datamodel_host.ml</code>.</p><p>The function to describe the new message will look something like the following:</p><pre><code>let host_price_of = call ~flags:[`Session]
    ~name:&quot;price_of&quot;
    ~in_oss_since:None
    ~in_product_since:rel_orlando
    ~params:[(Ref _host, &quot;host&quot;, &quot;The host containing the price information&quot;);
             (String, &quot;item&quot;, &quot;The item whose price is queried&quot;)]
    ~result:(Float, &quot;The price of the item&quot;)
    ~doc:&quot;Returns the price of a named item.&quot;
    ~allowed_roles:_R_POOL_OP
    ()
</code></pre><p>By convention, the name of the function is formed from the name of the class
and the name of the message: host and price_of, in the example. An entry for
host_price_of is added to the messages of the host class:</p><pre><code>let host =
    create_obj ...
        ~messages: [...
                    host_price_of;
                   ]
...
</code></pre><p>The parameters passed to call are all optional (except ~name and ~in_product_since).</p><ul><li><p>The ~flags parameter is used to set conditions for the use of the message.
For example, `Session is used to indicate that the call must be made in the
presence of an existing session.</p></li><li><p>The value of the ~in_product_since parameter is a string taken from
<code>idl/datamodel_types.ml</code> indicates the XenServer release in which this
message was first introduced.</p></li><li><p>The ~params parameter describes a list of the formal parameters of the message.
Each parameter is described by a triple. The first component of the triple is
the type (from type ty in <code>idl/datamodel_types.ml</code>); the second is the name
of the parameter, and the third is a human-readable description of the parameter.
The first triple in the list is conventionally the instance of the class on
which the message will operate. In the example, this is a reference to the host.</p></li><li><p>Similarly, the ~result describes the message&rsquo;s return type, although this is
permitted to merely be a single value rather than a list of values. If no
~result is specified, the default is unit.</p></li><li><p>The ~doc parameter describes what the message is doing.</p></li><li><p>The bool ~hide_from_docs parameter prevents the message from being included in the documentation when generated.</p></li><li><p>The bool ~pool_internal parameter is used to indicate if the message should be callable by external systems or only internal hosts.</p></li><li><p>The ~errs parameter is a list of possible exceptions that the message can raise.</p></li><li><p>The parameter ~lifecycle takes in an array of (Status, version, doc) to indicate the lifecycle of the message type. This takes over from ~in_oss_since which indicated the release that the message type was introduced. NOTE: Leave this parameter empty, it will be populated on build.</p></li><li><p>The ~allowed_roles parameter is used for access control (see below).</p></li></ul><p>Compiling <code>xen-api.(hg|git)</code> will cause the code corresponding to this message
to be generated and output in <code>ocaml/xapi/server.ml</code>. In the example above, a
section handling an incoming call host.price_of appeared in <code>ocaml/xapi/server.ml</code>.
However, after this was generated, the rest of the build failed because this
call expects a price_of function in the Host object.</p><h2 id=expected-values-in-parameter-in_product_since>Expected values in parameter ~in_product_since</h2><p>In the example above, the value of the parameter ~in_product_since informs that
the message host_price_of was added during the rel_orlando release cycle. If a
new release cycle is required, then it needs to be added in the file
<code>idl/datamodel_types.ml</code>. The patch below shows how the new rel_george release
identifier was added. Any class, message, etc. added during the rel_george
release cycle should contain ~in_product_since:rel_george entries.
(obs: the release and upgrade infrastructure can handle only one new
<code>rel_*</code> identifier &ndash; in this case, rel_george &ndash; in each release)</p><pre><code>--- a/ocaml/idl/datamodel_types.ml Tue Nov 11 15:17:48 2008 +0000
+++ b/ocaml/idl/datamodel_types.ml Tue Nov 11 15:53:29 2008 +0000
@@ -27,14 +27,13 @@
 (* useful constants for product vsn tracking *)
 let oss_since_303 = Some &quot;3.0.3&quot;
+let rel_george = &quot;george&quot;
 let rel_orlando = &quot;orlando&quot;
 let rel_orlando_update_1 = &quot;orlando-update-1&quot;
 let rel_symc = &quot;symc&quot;
 let rel_miami = &quot;miami&quot;
 let rel_rio = &quot;rio&quot;
-let release_order = [engp:rel_rio; rel_miami; rel_symc; rel_orlando; rel_orlando_update_1]
+let release_order = [engp:rel_rio; rel_miami; rel_symc; rel_orlando; rel_orlando_update_1; rel_george] 
</code></pre><h2 id=update-expose_get_all_messages_for-list>Update expose_get_all_messages_for list</h2><p>If you are adding a new class, do not forget to add your new class _name to
the expose_get_all_messages_for list, at the bottom of datamodel.ml, in
order to have automatically generated get_all and get_all_records functions
attached to it.</p><h2 id=update-the-rbac-field-containing-the-roles-expected-to-use-the-new-api-call>Update the RBAC field containing the roles expected to use the new API call</h2><p>After the RBAC integration, Xapi provides by default a set of static roles
associated to the most common subject tasks.</p><p>The api calls associated with each role are defined by a new <code>~allowed_roles</code>
parameter in each api call, which specifies the list of static roles that
should be able to execute the call. The possible roles for this list is one of
the following names, defined in <code>datamodel.ml</code>:</p><ul><li>role_pool_admin</li><li>role_pool_operator</li><li>role_vm_power_admin</li><li>role_vm_admin</li><li>role_vm_operator</li><li>role_read_only</li></ul><p>So, for instance,</p><pre><code>~allowed_roles:[role_pool_admin,role_pool_operator] (* this is not the recommended usage, see example below *)
</code></pre><p>would be a valid list (though it is not the recommended way of using
allowed_roles, see below), meaning that subjects belonging to either
role_pool_admin or role_pool_operator can execute the api call.</p><p>The RBAC requirements define a policy where the roles in the list above are
supposed to be totally-ordered by the set of api-calls associated with each of
them. That means that any api-call allowed to role_pool_operator should also be
in role_pool_admin; any api-call allowed to role_vm_power_admin should also be
in role_pool_operator and also in role_pool_admin; and so on. Datamodel.ml
provides shortcuts for expressing these totally-ordered set of roles policy
associated with each api-call:</p><ul><li>_R_POOL_ADMIN, equivalent to [role_pool_admin]</li><li>_R_POOL_OP, equivalent to [role_pool_admin,role_pool_operator]</li><li>_R_VM_POWER_ADMIN, equivalent to [role_pool_admin,role_pool_operator,role_vm_power_admin]</li><li>_R_VM_ADMIN, equivalent to [role_pool_admin,role_pool_operator,role_vm_power_admin,role_vm_admin]</li><li>_R_VM_OP, equivalent to [role_pool_admin,role_pool_operator,role_vm_power_admin,role_vm_admin,role_vm_op]</li><li>_R_READ_ONLY, equivalent to [role_pool_admin,role_pool_operator,role_vm_power_admin,role_vm_admin,role_vm_op,role_read_only]</li></ul><p>The <code>~allowed_roles</code> parameter should use one of the shortcuts in the list above,
instead of directly using a list of roles, because the shortcuts above make sure
that the roles in the list are in a total order regarding the api-calls
permission sets. Creating an api-call with e.g.
allowed_roles:[role_pool_admin,role_vm_admin] would be wrong, because that
would mean that a pool_operator cannot execute the api-call that a vm_admin can,
breaking the total-order policy expected in the RBAC 1.0 implementation.
In the future, this requirement might be relaxed.</p><p>So, the example above should instead be used as:</p><pre><code>~allowed_roles:_R_POOL_OP  (* recommended usage via pre-defined totally-ordered role lists *)
</code></pre><p>and so on.</p><h2 id=how-to-determine-the-correct-role-of-a-new-api-call>How to determine the correct role of a new api-call:</h2><ul><li>if only xapi should execute the api-call, ie. it is an internal call: _R_POOL_ADMIN</li><li>if it is related to subject, role, external-authentication: _R_POOL_ADMIN</li><li>if it is related to accessing Dom0 (via console, ssh, whatever): _R_POOL_ADMIN</li><li>if it is related to the pool object: R_POOL_OP</li><li>if it is related to the host object, licenses, backups, physical devices: _R_POOL_OP</li><li>if it is related to managing VM memory, snapshot/checkpoint, migration: _R_VM_POWER_ADMIN</li><li>if it is related to creating, destroying, cloning, importing/exporting VMs: _R_VM_ADMIN</li><li>if it is related to starting, stopping, pausing etc VMs or otherwise accessing/manipulating VMs: _R_VM_OP</li><li>if it is related to being able to login, manipulate own tasks and read values only: _R_READ_ONLY</li></ul><h2 id=update-message-forwarding>Update message forwarding</h2><p>The &ldquo;message forwarding&rdquo; layer describes the policy of whether an incoming API
call should be forwarded to another host (such as another member of the pool)
or processed on the host which receives the call. This policy may be
non-trivial to describe and so cannot be auto-generated from the data model.</p><p>In <code>xapi/message_forwarding.ml</code>, add a function to the relevant module to
describe this policy. In the running example, we add the following function to
the Host module:</p><pre><code>let price_of ~__context ~host ~item =
    info &quot;Host.price_of for item %s&quot; item;
    let local_fn = Local.Host.price_of ~host ~item in
    do_op_on ~local_fn ~__context ~host
      (fun session_id rpc -&gt; Client.Host.price_of ~rpc ~session_id ~host ~item)
</code></pre><p>After the ~__context parameter, the parameters of this new function should
match the parameters we specified for the message. In this case, that is the
host and the item to query the price of.</p><p>The do_op_on function takes a function to execute locally and a function to
execute remotely and performs one of these operations depending on whether the
given host is the local host.</p><p>The local function references Local.Host.price_of, which is a function we will
write in the next step.</p><h2 id=implement-the-function>Implement the function</h2><p>Now we write the function to perform the logic behind the new API call.
For a host-based call, this will reside in <code>xapi/xapi_host.ml</code>. For other
classes, other files with similar names are used.</p><p>We add the following function to <code>xapi/xapi_host.ml</code>:</p><pre><code>let price_of ~__context ~host ~item =
    if item = &quot;fish&quot; then 3.14 else 0.00
</code></pre><p>We also need to add the function to the interface <code>xapi/xapi_host.mli</code>:</p><pre><code>val price_of :
    __context:Context.t -&gt; host:API.ref_host -&gt; item:string -&gt; float
</code></pre><p>Congratulations, you&rsquo;ve added a function to the API!</p><h2 id=add-the-operation-to-the-cli>Add the operation to the CLI</h2><p>Edit <code>xapi-cli-server/cli_frontend.ml</code>. Add a block to the definition of cmdtable_data as
in the following example:</p><pre><code>&quot;host-price-of&quot;,
{
  reqd=[&quot;host-uuid&quot;; &quot;item&quot;];
  optn=[];
  help=&quot;Find out the price of an item on a certain host.&quot;;
  implementation= No_fd Cli_operations.host_price_of;
  flags=[];
};
</code></pre><p>Include here the following:</p><ul><li><p>The names of required (<em>reqd</em>) and optional (<em>optn</em>) parameters.</p></li><li><p>A description to be displayed when calling <em>xe help &lt;cmd></em> in the help field.</p></li><li><p>The <em>implementation</em> should use <em>With_fd</em> if any communication with the
client is necessary (for example, showing the user a warning, sending the
contents of a file, etc.) Otherwise, <em>No_fd</em> can be used as above.</p></li><li><p>The <em>flags</em> field can be used to set special options:</p><ul><li><em>Vm_selectors</em>: adds a &ldquo;vm&rdquo; parameter for the name of a VM (rather than a UUID)</li><li><em>Host_selectors</em>: adds a &ldquo;host&rdquo; parameter for the name of a host (rather than a UUID)</li><li><em>Standard</em>: includes the command in the list of common commands displayed by <em>xe help</em></li><li><em>Neverforward:</em></li><li><em>Hidden:</em></li><li><em>Deprecated of string list:</em></li></ul></li></ul><p>Now we must implement <code>Cli_operations.host_price_of</code>. This is done in
<code>xapi-cli-server/cli_operations.ml</code>. This function typically extracts the parameters and
forwards them to the internal implementation of the function. Other arbitrary
code is permitted. For example:</p><pre><code>let host_price_of printer rpc session_id params =
  let host = Client.Host.get_by_uuid rpc session_id (List.assoc &quot;host-uuid&quot; params) in
  let item = List.assoc &quot;item&quot; params in
  let price = string_of_float (Client.Host.price_of ~rpc ~session_id ~host ~item) in
  printer (Cli_printer.PList [price])
</code></pre><h2 id=tab-completion-in-the-cli>Tab Completion in the CLI</h2><p>The CLI features tab completion for many of its commands&rsquo; parameters.
Tab completion is implemented in the file <code>ocaml/xe-cli/bash-completion</code>, which
is installed on the host as <code>/etc/bash_completion.d/cli</code>, and is done on a
parameter-name rather than on a command-name basis. The main portion of the
bash-completion file is a case statement that contains a section for each of
the parameters that benefit from completion. There is also an entry that
catches all parameter names ending at -uuid, and performs an automatic lookup
of suitable UUIDs. The host-uuid parameter of our new host-price-of command
therefore automatically gains completion capabilities.</p><h2 id=executing-the-cli-operation>Executing the CLI operation</h2><p>Recompile <code>xapi</code> with the changes described above and install it on a test machine.</p><p>Execute the following command to see if the function exists:</p><pre><code>xe help host-price-of
</code></pre><p>Invoke the function itself with the following command:</p><pre><code>xe host-price-of host-uuid=&lt;tab&gt; item=fish
</code></pre><p>and you should find out the price of fish.</p><footer class=footline></footer></article></div></main></div><aside id=sidebar class=default-animation><div id=header-topbar class=default-animation></div><div id=header-wrapper class=default-animation><div id=header class=default-animation><img src=https://xapi-project.github.io/new-docs//images/xapi-project.png></div><div class="searchbox default-animation"><i class="fas fa-search" title="Search (CTRL+ALT+f)"></i>
<label class=a11y-only for=search-by>Search</label>
<input data-search-input id=search-by name=search-by class=search-by type=search placeholder=Search...>
<button class=search-clear type=button data-search-clear title="Clear search"><i class="fas fa-times" title="Clear search"></i></button></div><script>var contentLangs=["en"]</script><script src=/new-docs/js/auto-complete.js?1698406048 defer></script>
<script src=/new-docs/js/lunr/lunr.min.js?1698406048 defer></script>
<script src=/new-docs/js/lunr/lunr.stemmer.support.min.js?1698406048 defer></script>
<script src=/new-docs/js/lunr/lunr.multi.min.js?1698406048 defer></script>
<script src=/new-docs/js/lunr/lunr.en.min.js?1698406048 defer></script>
<script src=/new-docs/js/search.js?1698406048 defer></script></div><div id=homelinks class="default-animation homelinks"><ul><li><a class=padding href=/new-docs/index.html><i class="fas fa-home"></i> Home</a></li></ul><hr class=padding></div><div id=content-wrapper class=highlightable><div id=topics><ul class="enlarge morespace collapsible-menu"><li data-nav-id=/new-docs/toolstack/index.html><input type=checkbox id=section-733bfb8b221c6a3949d666444cf4445d aria-controls=subsections-733bfb8b221c6a3949d666444cf4445d><label for=section-733bfb8b221c6a3949d666444cf4445d><i class="fas fa-chevron-down"></i><i class="fas fa-chevron-right"></i><span class=a11y-only>Submenu The Toolstack</span></label><a class=padding href=/new-docs/toolstack/index.html>The Toolstack</a><ul id=subsections-733bfb8b221c6a3949d666444cf4445d class="morespace collapsible-menu"><li data-nav-id=/new-docs/toolstack/responsibilities/index.html><a class=padding href=/new-docs/toolstack/responsibilities/index.html>Responsibilities</a></li><li data-nav-id=/new-docs/toolstack/high-level/index.html><input type=checkbox id=section-93d1c0b933c799c336ad0fd09a6dc0ae aria-controls=subsections-93d1c0b933c799c336ad0fd09a6dc0ae><label for=section-93d1c0b933c799c336ad0fd09a6dc0ae><i class="fas fa-chevron-down"></i><i class="fas fa-chevron-right"></i><span class=a11y-only>Submenu High-level architecture</span></label><a class=padding href=/new-docs/toolstack/high-level/index.html>High-level architecture</a><ul id=subsections-93d1c0b933c799c336ad0fd09a6dc0ae class="morespace collapsible-menu"><li data-nav-id=/new-docs/toolstack/high-level/environment/index.html><a class=padding href=/new-docs/toolstack/high-level/environment/index.html>Environment</a></li><li data-nav-id=/new-docs/toolstack/high-level/daemons/index.html><a class=padding href=/new-docs/toolstack/high-level/daemons/index.html>Daemons</a></li><li data-nav-id=/new-docs/toolstack/high-level/interfaces/index.html><a class=padding href=/new-docs/toolstack/high-level/interfaces/index.html>Interfaces</a></li></ul></li><li data-nav-id=/new-docs/toolstack/features/index.html><input type=checkbox id=section-a202420b9d8f13c2d690377c4357de50 aria-controls=subsections-a202420b9d8f13c2d690377c4357de50><label for=section-a202420b9d8f13c2d690377c4357de50><i class="fas fa-chevron-down"></i><i class="fas fa-chevron-right"></i><span class=a11y-only>Submenu Features</span></label><a class=padding href=/new-docs/toolstack/features/index.html>Features</a><ul id=subsections-a202420b9d8f13c2d690377c4357de50 class="morespace collapsible-menu"><li data-nav-id=/new-docs/toolstack/features/DR/index.html><a class=padding href=/new-docs/toolstack/features/DR/index.html>Disaster Recovery</a></li><li data-nav-id=/new-docs/toolstack/features/HA/index.html><a class=padding href=/new-docs/toolstack/features/HA/index.html>High-Availability</a></li><li data-nav-id=/new-docs/toolstack/features/snapshots/index.html><a class=padding href=/new-docs/toolstack/features/snapshots/index.html>Snapshots</a></li><li data-nav-id=/new-docs/toolstack/features/VGPU/index.html><a class=padding href=/new-docs/toolstack/features/VGPU/index.html>vGPU</a></li><li data-nav-id=/new-docs/toolstack/features/XSM/index.html><a class=padding href=/new-docs/toolstack/features/XSM/index.html>Xapi Storage Migration</a></li></ul></li></ul></li><li data-nav-id=/new-docs/xapi/index.html class=parent><input type=checkbox id=section-38d9a208f329bfd7f57b7a3d82b1b09a aria-controls=subsections-38d9a208f329bfd7f57b7a3d82b1b09a checked><label for=section-38d9a208f329bfd7f57b7a3d82b1b09a><i class="fas fa-chevron-down"></i><i class="fas fa-chevron-right"></i><span class=a11y-only>Submenu Xapi</span></label><a class=padding href=/new-docs/xapi/index.html>Xapi</a><ul id=subsections-38d9a208f329bfd7f57b7a3d82b1b09a class="morespace collapsible-menu"><li data-nav-id=/new-docs/xapi/guides/index.html class=parent><input type=checkbox id=section-1e852a9c61356e39c38ffde6aaccdadf aria-controls=subsections-1e852a9c61356e39c38ffde6aaccdadf checked><label for=section-1e852a9c61356e39c38ffde6aaccdadf><i class="fas fa-chevron-down"></i><i class="fas fa-chevron-right"></i><span class=a11y-only>Submenu Guides</span></label><a class=padding href=/new-docs/xapi/guides/index.html>Guides</a><ul id=subsections-1e852a9c61356e39c38ffde6aaccdadf class="morespace collapsible-menu"><li data-nav-id=/new-docs/xapi/guides/howtos/index.html class=parent><input type=checkbox id=section-259bbbeab1560e4f0d61ad99041ab23f aria-controls=subsections-259bbbeab1560e4f0d61ad99041ab23f checked><label for=section-259bbbeab1560e4f0d61ad99041ab23f><i class="fas fa-chevron-down"></i><i class="fas fa-chevron-right"></i><span class=a11y-only>Submenu How to add....</span></label><a class=padding href=/new-docs/xapi/guides/howtos/index.html>How to add....</a><ul id=subsections-259bbbeab1560e4f0d61ad99041ab23f class="morespace collapsible-menu"><li data-nav-id=/new-docs/xapi/guides/howtos/add-class/index.html><a class=padding href=/new-docs/xapi/guides/howtos/add-class/index.html>Adding a Class to the API</a></li><li data-nav-id=/new-docs/xapi/guides/howtos/add-field/index.html><a class=padding href=/new-docs/xapi/guides/howtos/add-field/index.html>Adding a field to the API</a></li><li data-nav-id=/new-docs/xapi/guides/howtos/add-function/index.html class=active><a class=padding href=/new-docs/xapi/guides/howtos/add-function/index.html>Adding a function to the API</a></li><li data-nav-id=/new-docs/xapi/guides/howtos/add-api-extension/index.html><a class=padding href=/new-docs/xapi/guides/howtos/add-api-extension/index.html>Adding a XenAPI extension</a></li></ul></li></ul></li><li data-nav-id=/new-docs/xapi/memory/index.html><a class=padding href=/new-docs/xapi/memory/index.html>Memory</a></li></ul></li><li data-nav-id=/new-docs/xcp-networkd/index.html><a class=padding href=/new-docs/xcp-networkd/index.html>Networkd</a></li></ul></div><div class="padding footermargin footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter"></div><div id=menu-footer><hr class="padding default-animation footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter"><div id=prefooter class="footerLangSwitch footerVariantSwitch footerVisitedLinks"><ul><li id=select-language-container class=footerLangSwitch><div class="padding menu-control"><i class="fas fa-language fa-fw"></i>
<span>&nbsp;</span><div class=control-style><label class=a11y-only for=select-language>Language</label>
<select id=select-language onchange="location=baseUri+this.value"></select></div><div class=clear></div></div></li><li id=select-variant-container class=footerVariantSwitch><div class="padding menu-control"><i class="fas fa-paint-brush fa-fw"></i>
<span>&nbsp;</span><div class=control-style><label class=a11y-only for=select-variant>Theme</label>
<select id=select-variant onchange=window.variants&&variants.changeVariant(this.value)><option id=red value=red selected>Red</option></select></div><div class=clear></div></div><script>window.variants&&variants.markSelectedVariant()</script></li><li class=footerVisitedLinks><div class="padding menu-control"><i class="fas fa-history fa-fw"></i>
<span>&nbsp;</span><div class=control-style><button onclick=clearHistory()>Clear History</button></div><div class=clear></div></div></li></ul></div><div id=footer class=footerFooter></div></div></div></aside><script src=/new-docs/js/clipboard.min.js?1698406048 defer></script>
<script src=/new-docs/js/perfect-scrollbar.min.js?1698406048 defer></script>
<script src=/new-docs/js/theme.js?1698406048 defer></script></body></html>